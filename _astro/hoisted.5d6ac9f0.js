function Pu(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in t)){const s=Object.getOwnPropertyDescriptor(i,n);s&&Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ju(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qt={DEBUG:!1,LIB_VERSION:"2.45.0"},Fe;if(typeof window>"u"){var va={hostname:""};Fe={navigator:{userAgent:""},document:{location:va,referrer:""},screen:{width:0,height:0},location:va}}else Fe=window;var kn=Array.prototype,Fu=Function.prototype,Qa=Object.prototype,Yt=kn.slice,Di=Qa.toString,Sn=Qa.hasOwnProperty,ye=Fe.console,$t=Fe.navigator,ee=Fe.document,vi=Fe.opera,_n=Fe.screen,ct=$t.userAgent,vs=Fu.bind,ma=kn.forEach,ya=kn.indexOf,ba=kn.map,Lu=Array.isArray,Fs={},f={trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},Q={log:function(){if(Qt.DEBUG&&!f.isUndefined(ye)&&ye)try{ye.log.apply(ye,arguments)}catch{f.each(arguments,function(e){ye.log(e)})}},warn:function(){if(Qt.DEBUG&&!f.isUndefined(ye)&&ye){var t=["Mixpanel warning:"].concat(f.toArray(arguments));try{ye.warn.apply(ye,t)}catch{f.each(t,function(r){ye.warn(r)})}}},error:function(){if(Qt.DEBUG&&!f.isUndefined(ye)&&ye){var t=["Mixpanel error:"].concat(f.toArray(arguments));try{ye.error.apply(ye,t)}catch{f.each(t,function(r){ye.error(r)})}}},critical:function(){if(!f.isUndefined(ye)&&ye){var t=["Mixpanel error:"].concat(f.toArray(arguments));try{ye.error.apply(ye,t)}catch{f.each(t,function(r){ye.error(r)})}}}},ms=function(t,e){return function(){return arguments[0]="["+e+"] "+arguments[0],t.apply(Q,arguments)}},Gs=function(t){return{log:ms(Q.log,t),error:ms(Q.error,t),critical:ms(Q.critical,t)}};f.bind=function(t,e){var r,i;if(vs&&t.bind===vs)return vs.apply(t,Yt.call(arguments,1));if(!f.isFunction(t))throw new TypeError;return r=Yt.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,r.concat(Yt.call(arguments)));var n={};n.prototype=t.prototype;var s=new n;n.prototype=null;var o=t.apply(s,r.concat(Yt.call(arguments)));return Object(o)===o?o:s},i};f.each=function(t,e,r){if(t!=null){if(ma&&t.forEach===ma)t.forEach(e,r);else if(t.length===+t.length){for(var i=0,n=t.length;i<n;i++)if(i in t&&e.call(r,t[i],i,t)===Fs)return}else for(var s in t)if(Sn.call(t,s)&&e.call(r,t[s],s,t)===Fs)return}};f.extend=function(t){return f.each(Yt.call(arguments,1),function(e){for(var r in e)e[r]!==void 0&&(t[r]=e[r])}),t};f.isArray=Lu||function(t){return Di.call(t)==="[object Array]"};f.isFunction=function(t){try{return/^\s*\bfunction\b/.test(t)}catch{return!1}};f.isArguments=function(t){return!!(t&&Sn.call(t,"callee"))};f.toArray=function(t){return t?t.toArray?t.toArray():f.isArray(t)||f.isArguments(t)?Yt.call(t):f.values(t):[]};f.map=function(t,e,r){if(ba&&t.map===ba)return t.map(e,r);var i=[];return f.each(t,function(n){i.push(e.call(r,n))}),i};f.keys=function(t){var e=[];return t===null||f.each(t,function(r,i){e[e.length]=i}),e};f.values=function(t){var e=[];return t===null||f.each(t,function(r){e[e.length]=r}),e};f.include=function(t,e){var r=!1;return t===null?r:ya&&t.indexOf===ya?t.indexOf(e)!=-1:(f.each(t,function(i){if(r||(r=i===e))return Fs}),r)};f.includes=function(t,e){return t.indexOf(e)!==-1};f.inherit=function(t,e){return t.prototype=new e,t.prototype.constructor=t,t.superclass=e.prototype,t};f.isObject=function(t){return t===Object(t)&&!f.isArray(t)};f.isEmptyObject=function(t){if(f.isObject(t)){for(var e in t)if(Sn.call(t,e))return!1;return!0}return!1};f.isUndefined=function(t){return t===void 0};f.isString=function(t){return Di.call(t)=="[object String]"};f.isDate=function(t){return Di.call(t)=="[object Date]"};f.isNumber=function(t){return Di.call(t)=="[object Number]"};f.isElement=function(t){return!!(t&&t.nodeType===1)};f.encodeDates=function(t){return f.each(t,function(e,r){f.isDate(e)?t[r]=f.formatDate(e):f.isObject(e)&&(t[r]=f.encodeDates(e))}),t};f.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};f.formatDate=function(t){function e(r){return r<10?"0"+r:r}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())};f.strip_empty_properties=function(t){var e={};return f.each(t,function(r,i){f.isString(r)&&r.length>0&&(e[i]=r)}),e};f.truncate=function(t,e){var r;return typeof t=="string"?r=t.slice(0,e):f.isArray(t)?(r=[],f.each(t,function(i){r.push(f.truncate(i,e))})):f.isObject(t)?(r={},f.each(t,function(i,n){r[n]=f.truncate(i,e)})):r=t,r};f.JSONEncode=function(){return function(t){var e=t,r=function(n){var s=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return s.lastIndex=0,s.test(n)?'"'+n.replace(s,function(a){var u=o[a];return typeof u=="string"?u:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'},i=function(n,s){var o="",a="    ",u=0,l="",h="",p=0,_=o,v=[],y=s[n];switch(y&&typeof y=="object"&&typeof y.toJSON=="function"&&(y=y.toJSON(n)),typeof y){case"string":return r(y);case"number":return isFinite(y)?String(y):"null";case"boolean":case"null":return String(y);case"object":if(!y)return"null";if(o+=a,v=[],Di.apply(y)==="[object Array]"){for(p=y.length,u=0;u<p;u+=1)v[u]=i(u,y)||"null";return h=v.length===0?"[]":o?`[
`+o+v.join(`,
`+o)+`
`+_+"]":"["+v.join(",")+"]",o=_,h}for(l in y)Sn.call(y,l)&&(h=i(l,y),h&&v.push(r(l)+(o?": ":":")+h));return h=v.length===0?"{}":o?"{"+v.join(",")+_+"}":"{"+v.join(",")+"}",o=_,h}};return i("",{"":e})}}();f.JSONDecode=function(){var t,e,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},i,n=function(v){var y=new SyntaxError(v);throw y.at=t,y.text=i,y},s=function(v){return v&&v!==e&&n("Expected '"+v+"' instead of '"+e+"'"),e=i.charAt(t),t+=1,e},o=function(){var v,y="";for(e==="-"&&(y="-",s("-"));e>="0"&&e<="9";)y+=e,s();if(e===".")for(y+=".";s()&&e>="0"&&e<="9";)y+=e;if(e==="e"||e==="E")for(y+=e,s(),(e==="-"||e==="+")&&(y+=e,s());e>="0"&&e<="9";)y+=e,s();if(v=+y,!isFinite(v))n("Bad number");else return v},a=function(){var v,y,x="",E;if(e==='"')for(;s();){if(e==='"')return s(),x;if(e==="\\")if(s(),e==="u"){for(E=0,y=0;y<4&&(v=parseInt(s(),16),!!isFinite(v));y+=1)E=E*16+v;x+=String.fromCharCode(E)}else if(typeof r[e]=="string")x+=r[e];else break;else x+=e}n("Bad string")},u=function(){for(;e&&e<=" ";)s()},l=function(){switch(e){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}n('Unexpected "'+e+'"')},h,p=function(){var v=[];if(e==="["){if(s("["),u(),e==="]")return s("]"),v;for(;e;){if(v.push(h()),u(),e==="]")return s("]"),v;s(","),u()}}n("Bad array")},_=function(){var v,y={};if(e==="{"){if(s("{"),u(),e==="}")return s("}"),y;for(;e;){if(v=a(),u(),s(":"),Object.hasOwnProperty.call(y,v)&&n('Duplicate key "'+v+'"'),y[v]=h(),u(),e==="}")return s("}"),y;s(","),u()}}n("Bad object")};return h=function(){switch(u(),e){case"{":return _();case"[":return p();case'"':return a();case"-":return o();default:return e>="0"&&e<="9"?o():l()}},function(v){var y;return i=v,t=0,e=" ",y=h(),u(),e&&n("Syntax error"),y}}();f.base64Encode=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r,i,n,s,o,a,u,l,h=0,p=0,_="",v=[];if(!t)return t;t=f.utf8Encode(t);do r=t.charCodeAt(h++),i=t.charCodeAt(h++),n=t.charCodeAt(h++),l=r<<16|i<<8|n,s=l>>18&63,o=l>>12&63,a=l>>6&63,u=l&63,v[p++]=e.charAt(s)+e.charAt(o)+e.charAt(a)+e.charAt(u);while(h<t.length);switch(_=v.join(""),t.length%3){case 1:_=_.slice(0,-2)+"==";break;case 2:_=_.slice(0,-1)+"=";break}return _};f.utf8Encode=function(t){t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var e="",r,i,n=0,s;for(r=i=0,n=t.length,s=0;s<n;s++){var o=t.charCodeAt(s),a=null;o<128?i++:o>127&&o<2048?a=String.fromCharCode(o>>6|192,o&63|128):a=String.fromCharCode(o>>12|224,o>>6&63|128,o&63|128),a!==null&&(i>r&&(e+=t.substring(r,i)),e+=a,r=i=s+1)}return i>r&&(e+=t.substring(r,t.length)),e};f.UUID=function(){var t=function(){for(var i=1*new Date,n=0;i==1*new Date;)n++;return i.toString(16)+n.toString(16)},e=function(){return Math.random().toString(16).replace(".","")},r=function(){var i=ct,n,s,o=[],a=0;function u(l,h){var p,_=0;for(p=0;p<h.length;p++)_|=o[p]<<p*8;return l^_}for(n=0;n<i.length;n++)s=i.charCodeAt(n),o.unshift(s&255),o.length>=4&&(a=u(a,o),o=[]);return o.length>0&&(a=u(a,o)),a.toString(16)};return function(){var i=(_n.height*_n.width).toString(16);return t()+"-"+e()+"-"+r()+"-"+i+"-"+t()}}();var wa=["ahrefsbot","baiduspider","bingbot","bingpreview","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];f.isBlockedUA=function(t){var e;for(t=t.toLowerCase(),e=0;e<wa.length;e++)if(t.indexOf(wa[e])!==-1)return!0;return!1};f.HTTPBuildQuery=function(t,e){var r,i,n=[];return f.isUndefined(e)&&(e="&"),f.each(t,function(s,o){r=encodeURIComponent(s.toString()),i=encodeURIComponent(o),n[n.length]=i+"="+r}),n.join(e)};f.getQueryParam=function(t,e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+e+"=([^&#]*)",i=new RegExp(r),n=i.exec(t);if(n===null||n&&typeof n[1]!="string"&&n[1].length)return"";var s=n[1];try{s=decodeURIComponent(s)}catch{Q.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")};f.cookie={get:function(t){for(var e=t+"=",r=ee.cookie.split(";"),i=0;i<r.length;i++){for(var n=r[i];n.charAt(0)==" ";)n=n.substring(1,n.length);if(n.indexOf(e)===0)return decodeURIComponent(n.substring(e.length,n.length))}return null},parse:function(t){var e;try{e=f.JSONDecode(f.cookie.get(t))||{}}catch{}return e},set_seconds:function(t,e,r,i,n,s,o){var a="",u="",l="";if(o)a="; domain="+o;else if(i){var h=Ea(ee.location.hostname);a=h?"; domain=."+h:""}if(r){var p=new Date;p.setTime(p.getTime()+r*1e3),u="; expires="+p.toGMTString()}s&&(n=!0,l="; SameSite=None"),n&&(l+="; secure"),ee.cookie=t+"="+encodeURIComponent(e)+u+"; path=/"+a+l},set:function(t,e,r,i,n,s,o){var a="",u="",l="";if(o)a="; domain="+o;else if(i){var h=Ea(ee.location.hostname);a=h?"; domain=."+h:""}if(r){var p=new Date;p.setTime(p.getTime()+r*24*60*60*1e3),u="; expires="+p.toGMTString()}s&&(n=!0,l="; SameSite=None"),n&&(l+="; secure");var _=t+"="+encodeURIComponent(e)+u+"; path=/"+a+l;return ee.cookie=_,_},remove:function(t,e,r){f.cookie.set(t,"",-1,e,!1,!1,r)}};var ys=null,gn=function(t,e){if(ys!==null&&!e)return ys;var r=!0;try{t=t||window.localStorage;var i="__mplss_"+Vs(8),n="xyz";t.setItem(i,n),t.getItem(i)!==n&&(r=!1),t.removeItem(i)}catch{r=!1}return ys=r,r};f.localStorage={is_supported:function(t){var e=gn(null,t);return e||Q.error("localStorage unsupported; falling back to cookie store"),e},error:function(t){Q.error("localStorage error: "+t)},get:function(t){try{return window.localStorage.getItem(t)}catch(e){f.localStorage.error(e)}return null},parse:function(t){try{return f.JSONDecode(f.localStorage.get(t))||{}}catch{}return null},set:function(t,e){try{window.localStorage.setItem(t,e)}catch(r){f.localStorage.error(r)}},remove:function(t){try{window.localStorage.removeItem(t)}catch(e){f.localStorage.error(e)}}};f.register_event=function(){var t=function(i,n,s,o,a){if(!i){Q.error("No valid element provided to register_event");return}if(i.addEventListener&&!o)i.addEventListener(n,s,!!a);else{var u="on"+n,l=i[u];i[u]=e(i,s,l)}};function e(i,n,s){var o=function(a){if(a=a||r(window.event),!!a){var u=!0,l,h;return f.isFunction(s)&&(l=s(a)),h=n.call(i,a),(l===!1||h===!1)&&(u=!1),u}};return o}function r(i){return i&&(i.preventDefault=r.preventDefault,i.stopPropagation=r.stopPropagation),i}return r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0},t}();var Nu=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');f.dom_query=function(){function t(n){return n.all?n.all:n.getElementsByTagName("*")}var e=/[\t\r\n]/g;function r(n,s){var o=" "+s+" ";return(" "+n.className+" ").replace(e," ").indexOf(o)>=0}function i(n){if(!ee.getElementsByTagName)return[];var s=n.split(" "),o,a,u,l,h,p,_,v,y,x,E=[ee];for(p=0;p<s.length;p++){if(o=s[p].replace(/^\s+/,"").replace(/\s+$/,""),o.indexOf("#")>-1){a=o.split("#"),u=a[0];var D=a[1],U=ee.getElementById(D);if(!U||u&&U.nodeName.toLowerCase()!=u)return[];E=[U];continue}if(o.indexOf(".")>-1){a=o.split("."),u=a[0];var re=a[1];for(u||(u="*"),l=[],h=0,_=0;_<E.length;_++)for(u=="*"?y=t(E[_]):y=E[_].getElementsByTagName(u),v=0;v<y.length;v++)l[h++]=y[v];for(E=[],x=0,_=0;_<l.length;_++)l[_].className&&f.isString(l[_].className)&&r(l[_],re)&&(E[x++]=l[_]);continue}var J=o.match(Nu);if(J){u=J[1];var de=J[2],W=J[3],we=J[4];for(u||(u="*"),l=[],h=0,_=0;_<E.length;_++)for(u=="*"?y=t(E[_]):y=E[_].getElementsByTagName(u),v=0;v<y.length;v++)l[h++]=y[v];E=[],x=0;var S;switch(W){case"=":S=function(ue){return ue.getAttribute(de)==we};break;case"~":S=function(ue){return ue.getAttribute(de).match(new RegExp("\\b"+we+"\\b"))};break;case"|":S=function(ue){return ue.getAttribute(de).match(new RegExp("^"+we+"-?"))};break;case"^":S=function(ue){return ue.getAttribute(de).indexOf(we)===0};break;case"$":S=function(ue){return ue.getAttribute(de).lastIndexOf(we)==ue.getAttribute(de).length-we.length};break;case"*":S=function(ue){return ue.getAttribute(de).indexOf(we)>-1};break;default:S=function(ue){return ue.getAttribute(de)}}for(E=[],x=0,_=0;_<l.length;_++)S(l[_])&&(E[x++]=l[_]);continue}for(u=o,l=[],h=0,_=0;_<E.length;_++)for(y=E[_].getElementsByTagName(u),v=0;v<y.length;v++)l[h++]=y[v];E=l}return E}return function(n){return f.isElement(n)?[n]:f.isObject(n)&&!f.isUndefined(n.length)?n:i.call(this,n)}}();f.info={campaignParams:function(){var t="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),e="",r={};return f.each(t,function(i){e=f.getQueryParam(ee.URL,i),e.length&&(r[i]=e)}),r},searchEngine:function(t){return t.search("https?://(.*)google.([^/?]*)")===0?"google":t.search("https?://(.*)bing.com")===0?"bing":t.search("https?://(.*)yahoo.com")===0?"yahoo":t.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(t){var e=f.info.searchEngine(t),r=e!="yahoo"?"q":"p",i={};if(e!==null){i.$search_engine=e;var n=f.getQueryParam(t,r);n.length&&(i.mp_keyword=n)}return i},browser:function(t,e,r){return e=e||"",r||f.includes(t," OPR/")?f.includes(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":f.includes(t,"IEMobile")||f.includes(t,"WPDesktop")?"Internet Explorer Mobile":f.includes(t,"SamsungBrowser/")?"Samsung Internet":f.includes(t,"Edge")||f.includes(t,"Edg/")?"Microsoft Edge":f.includes(t,"FBIOS")?"Facebook Mobile":f.includes(t,"Chrome")?"Chrome":f.includes(t,"CriOS")?"Chrome iOS":f.includes(t,"UCWEB")||f.includes(t,"UCBrowser")?"UC Browser":f.includes(t,"FxiOS")?"Firefox iOS":f.includes(e,"Apple")?f.includes(t,"Mobile")?"Mobile Safari":"Safari":f.includes(t,"Android")?"Android Mobile":f.includes(t,"Konqueror")?"Konqueror":f.includes(t,"Firefox")?"Firefox":f.includes(t,"MSIE")||f.includes(t,"Trident/")?"Internet Explorer":f.includes(t,"Gecko")?"Mozilla":""},browserVersion:function(t,e,r){var i=f.info.browser(t,e,r),n={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},s=n[i];if(s===void 0)return null;var o=t.match(s);return o?parseFloat(o[o.length-2]):null},os:function(){var t=ct;return/Windows/i.test(t)?/Phone/.test(t)||/WPDesktop/.test(t)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(t)?"iOS":/Android/.test(t)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Mac/i.test(t)?"Mac OS X":/Linux/.test(t)?"Linux":/CrOS/.test(t)?"Chrome OS":""},device:function(t){return/Windows Phone/i.test(t)||/WPDesktop/.test(t)?"Windows Phone":/iPad/.test(t)?"iPad":/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Android/.test(t)?"Android":""},referringDomain:function(t){var e=t.split("/");return e.length>=3?e[2]:""},properties:function(){return f.extend(f.strip_empty_properties({$os:f.info.os(),$browser:f.info.browser(ct,$t.vendor,vi),$referrer:ee.referrer,$referring_domain:f.info.referringDomain(ee.referrer),$device:f.info.device(ct)}),{$current_url:Fe.location.href,$browser_version:f.info.browserVersion(ct,$t.vendor,vi),$screen_height:_n.height,$screen_width:_n.width,mp_lib:"web",$lib_version:Qt.LIB_VERSION,$insert_id:Vs(),time:f.timestamp()/1e3})},people_properties:function(){return f.extend(f.strip_empty_properties({$os:f.info.os(),$browser:f.info.browser(ct,$t.vendor,vi)}),{$browser_version:f.info.browserVersion(ct,$t.vendor,vi)})},pageviewInfo:function(t){return f.strip_empty_properties({mp_page:t,mp_referrer:ee.referrer,mp_browser:f.info.browser(ct,$t.vendor,vi),mp_platform:f.info.os()})}};var Vs=function(t){var e=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return t?e.substring(0,t):e},Uu=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,Mu=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,Ea=function(t){var e=Mu,r=t.split("."),i=r[r.length-1];(i.length>4||i==="com"||i==="org")&&(e=Uu);var n=t.match(e);return n?n[0]:""},vn=null,mn=null;typeof JSON<"u"&&(vn=JSON.stringify,mn=JSON.parse);vn=vn||f.JSONEncode;mn=mn||f.JSONDecode;f.toArray=f.toArray;f.isObject=f.isObject;f.JSONEncode=f.JSONEncode;f.JSONDecode=f.JSONDecode;f.isBlockedUA=f.isBlockedUA;f.isEmptyObject=f.isEmptyObject;f.info=f.info;f.info.device=f.info.device;f.info.browser=f.info.browser;f.info.browserVersion=f.info.browserVersion;f.info.properties=f.info.properties;var Pt=function(){};Pt.prototype.create_properties=function(){};Pt.prototype.event_handler=function(){};Pt.prototype.after_track_handler=function(){};Pt.prototype.init=function(t){return this.mp=t,this};Pt.prototype.track=function(t,e,r,i){var n=this,s=f.dom_query(t);if(s.length===0){Q.error("The DOM query ("+t+") returned 0 elements");return}return f.each(s,function(o){f.register_event(o,this.override_event,function(a){var u={},l=n.create_properties(r,this),h=n.mp.get_config("track_links_timeout");n.event_handler(a,this,u),window.setTimeout(n.track_callback(i,l,u,!0),h),n.mp.track(e,l,n.track_callback(i,l,u))})},this),!0};Pt.prototype.track_callback=function(t,e,r,i){i=i||!1;var n=this;return function(){r.callback_fired||(r.callback_fired=!0,!(t&&t(i,e)===!1)&&n.after_track_handler(e,r,i))}};Pt.prototype.create_properties=function(t,e){var r;return typeof t=="function"?r=t(e):r=f.extend({},t),r};var Br=function(){this.override_event="click"};f.inherit(Br,Pt);Br.prototype.create_properties=function(t,e){var r=Br.superclass.create_properties.apply(this,arguments);return e.href&&(r.url=e.href),r};Br.prototype.event_handler=function(t,e,r){r.new_tab=t.which===2||t.metaKey||t.ctrlKey||e.target==="_blank",r.href=e.href,r.new_tab||t.preventDefault()};Br.prototype.after_track_handler=function(t,e){e.new_tab||setTimeout(function(){window.location=e.href},0)};var Tn=function(){this.override_event="submit"};f.inherit(Tn,Pt);Tn.prototype.event_handler=function(t,e,r){r.element=e,t.preventDefault()};Tn.prototype.after_track_handler=function(t,e){setTimeout(function(){e.element.submit()},0)};var qu=Gs("lock"),Za=function(t,e){e=e||{},this.storageKey=t,this.storage=e.storage||window.localStorage,this.pollIntervalMS=e.pollIntervalMS||100,this.timeoutMS=e.timeoutMS||2e3};Za.prototype.withLock=function(t,e,r){!r&&typeof e!="function"&&(r=e,e=null);var i=r||new Date().getTime()+"|"+Math.random(),n=new Date().getTime(),s=this.storageKey,o=this.pollIntervalMS,a=this.timeoutMS,u=this.storage,l=s+":X",h=s+":Y",p=s+":Z",_=function(U){e&&e(U)},v=function(U){if(new Date().getTime()-n>a){qu.error("Timeout waiting for mutex on "+s+"; clearing lock. ["+i+"]"),u.removeItem(p),u.removeItem(h),E();return}setTimeout(function(){try{U()}catch(re){_(re)}},o*(Math.random()+.1))},y=function(U,re){U()?re():v(function(){y(U,re)})},x=function(){var U=u.getItem(h);if(U&&U!==i)return!1;if(u.setItem(h,i),u.getItem(h)===i)return!0;if(!gn(u,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},E=function(){u.setItem(l,i),y(x,function(){if(u.getItem(l)===i){D();return}v(function(){if(u.getItem(h)!==i){E();return}y(function(){return!u.getItem(p)},D)})})},D=function(){u.setItem(p,"1");try{t()}finally{u.removeItem(p),u.getItem(h)===i&&u.removeItem(h),u.getItem(l)===i&&u.removeItem(l)}};try{if(gn(u,!0))E();else throw new Error("localStorage support check failed")}catch(U){_(U)}};var xa=Gs("batch"),tr=function(t,e){e=e||{},this.storageKey=t,this.storage=e.storage||window.localStorage,this.reportError=e.errorReporter||f.bind(xa.error,xa),this.lock=new Za(t,{storage:this.storage}),this.pid=e.pid||null,this.memQueue=[]};tr.prototype.enqueue=function(t,e,r){var i={id:Vs(),flushAfter:new Date().getTime()+e*2,payload:t};this.lock.withLock(f.bind(function(){var s;try{var o=this.readFromStorage();o.push(i),s=this.saveToStorage(o),s&&this.memQueue.push(i)}catch{this.reportError("Error enqueueing item",t),s=!1}r&&r(s)},this),f.bind(function(s){this.reportError("Error acquiring storage lock",s),r&&r(!1)},this),this.pid)};tr.prototype.fillBatch=function(t){var e=this.memQueue.slice(0,t);if(e.length<t){var r=this.readFromStorage();if(r.length){var i={};f.each(e,function(o){i[o.id]=!0});for(var n=0;n<r.length;n++){var s=r[n];if(new Date().getTime()>s.flushAfter&&!i[s.id]&&(s.orphaned=!0,e.push(s),e.length>=t))break}}}return e};var ka=function(t,e){var r=[];return f.each(t,function(i){i.id&&!e[i.id]&&r.push(i)}),r};tr.prototype.removeItemsByID=function(t,e){var r={};f.each(t,function(n){r[n]=!0}),this.memQueue=ka(this.memQueue,r);var i=f.bind(function(){var n;try{var s=this.readFromStorage();if(s=ka(s,r),n=this.saveToStorage(s),n){s=this.readFromStorage();for(var o=0;o<s.length;o++){var a=s[o];if(a.id&&r[a.id])return this.reportError("Item not removed from storage"),!1}}}catch{this.reportError("Error removing items",t),n=!1}return n},this);this.lock.withLock(function(){var s=i();e&&e(s)},f.bind(function(s){var o=!1;if(this.reportError("Error acquiring storage lock",s),!gn(this.storage,!0)&&(o=i(),!o))try{this.storage.removeItem(this.storageKey)}catch(a){this.reportError("Error clearing queue",a)}e&&e(o)},this),this.pid)};var Sa=function(t,e){var r=[];return f.each(t,function(i){var n=i.id;if(n in e){var s=e[n];s!==null&&(i.payload=s,r.push(i))}else r.push(i)}),r};tr.prototype.updatePayloads=function(t,e){this.memQueue=Sa(this.memQueue,t),this.lock.withLock(f.bind(function(){var i;try{var n=this.readFromStorage();n=Sa(n,t),i=this.saveToStorage(n)}catch{this.reportError("Error updating items",t),i=!1}e&&e(i)},this),f.bind(function(i){this.reportError("Error acquiring storage lock",i),e&&e(!1)},this),this.pid)};tr.prototype.readFromStorage=function(){var t;try{t=this.storage.getItem(this.storageKey),t&&(t=mn(t),f.isArray(t)||(this.reportError("Invalid storage entry:",t),t=null))}catch(e){this.reportError("Error retrieving queue",e),t=null}return t||[]};tr.prototype.saveToStorage=function(t){try{return this.storage.setItem(this.storageKey,vn(t)),!0}catch(e){return this.reportError("Error saving queue",e),!1}};tr.prototype.clear=function(){this.memQueue=[],this.storage.removeItem(this.storageKey)};var Bu=10*60*1e3,wi=Gs("batch"),xt=function(t,e){this.errorReporter=e.errorReporter,this.queue=new tr(t,{errorReporter:f.bind(this.reportError,this),storage:e.storage}),this.libConfig=e.libConfig,this.sendRequest=e.sendRequestFunc,this.beforeSendHook=e.beforeSendHook,this.stopAllBatching=e.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0};xt.prototype.enqueue=function(t,e){this.queue.enqueue(t,this.flushInterval,e)};xt.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};xt.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};xt.prototype.clear=function(){this.queue.clear()};xt.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};xt.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};xt.prototype.scheduleFlush=function(t){this.flushInterval=t,this.stopped||(this.timeoutID=setTimeout(f.bind(this.flush,this),this.flushInterval))};xt.prototype.flush=function(t){try{if(this.requestInProgress){wi.log("Flush: Request already in progress");return}t=t||{};var e=this.libConfig.batch_request_timeout_ms,r=new Date().getTime(),i=this.batchSize,n=this.queue.fillBatch(i),s=[],o={};if(f.each(n,function(l){var h=l.payload;this.beforeSendHook&&!l.orphaned&&(h=this.beforeSendHook(h)),h&&s.push(h),o[l.id]=h},this),s.length<1){this.resetFlush();return}this.requestInProgress=!0;var a=f.bind(function(l){this.requestInProgress=!1;try{var h=!1;if(t.unloading)this.queue.updatePayloads(o);else if(f.isObject(l)&&l.error==="timeout"&&new Date().getTime()-r>=e)this.reportError("Network timeout; retrying"),this.flush();else if(f.isObject(l)&&l.xhr_req&&(l.xhr_req.status>=500||l.xhr_req.status===429||l.error==="timeout")){var p=this.flushInterval*2,_=l.xhr_req.responseHeaders;if(_){var v=_["Retry-After"];v&&(p=parseInt(v,10)*1e3||p)}p=Math.min(Bu,p),this.reportError("Error; retry in "+p+" ms"),this.scheduleFlush(p)}else if(f.isObject(l)&&l.xhr_req&&l.xhr_req.status===413)if(n.length>1){var y=Math.max(1,Math.floor(i/2));this.batchSize=Math.min(this.batchSize,y,n.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",n),this.resetBatchSize(),h=!0;else h=!0;h&&this.queue.removeItemsByID(f.map(n,function(x){return x.id}),f.bind(function(x){x?(this.consecutiveRemovalFailures=0,this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())},this))}catch(x){this.reportError("Error handling API response",x),this.resetFlush()}},this),u={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:e};t.unloading&&(u.transport="sendBeacon"),wi.log("MIXPANEL REQUEST:",s),this.sendRequest(s,u,a)}catch(l){this.reportError("Error flushing request queue",l),this.resetFlush()}};xt.prototype.reportError=function(t,e){if(wi.error.apply(wi.error,arguments),this.errorReporter)try{e instanceof Error||(e=new Error(t)),this.errorReporter(t,e)}catch(r){wi.error(r)}};var zu="__mp_opt_in_out_";function Hu(t,e){rc(!0,t,e)}function Ku(t,e){rc(!1,t,e)}function Ju(t,e){return tc(t,e)==="1"}function ec(t,e){if(Gu(e))return Q.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var r=tc(t,e)==="0";return r&&Q.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),r}function Ri(t){return Qs(t,function(e){return this.get_config(e)})}function rr(t){return Qs(t,function(e){return this._get_config(e)})}function Jr(t){return Qs(t,function(e){return this._get_config(e)})}function Wu(t,e){e=e||{},Ys(e).remove(Xs(t,e),!!e.crossSubdomainCookie,e.cookieDomain)}function Ys(t){return t=t||{},t.persistenceType==="localStorage"?f.localStorage:f.cookie}function Xs(t,e){return e=e||{},(e.persistencePrefix||zu)+t}function tc(t,e){return Ys(e).get(Xs(t,e))}function Gu(t){if(t&&t.ignoreDnt)return!1;var e=t&&t.window||Fe,r=e.navigator||{},i=!1;return f.each([r.doNotTrack,r.msDoNotTrack,e.doNotTrack],function(n){f.includes([!0,1,"1","yes"],n)&&(i=!0)}),i}function rc(t,e,r){if(!f.isString(e)||!e.length){Q.error("gdpr."+(t?"optIn":"optOut")+" called with an invalid token");return}r=r||{},Ys(r).set(Xs(e,r),t?1:0,f.isNumber(r.cookieExpiration)?r.cookieExpiration:null,!!r.crossSubdomainCookie,!!r.secureCookie,!!r.crossSiteCookie,r.cookieDomain),r.track&&t&&r.track(r.trackEventName||"$opt_in",r.trackProperties,{send_immediately:!0})}function Qs(t,e){return function(){var r=!1;try{var i=e.call(this,"token"),n=e.call(this,"ignore_dnt"),s=e.call(this,"opt_out_tracking_persistence_type"),o=e.call(this,"opt_out_tracking_cookie_prefix"),a=e.call(this,"window");i&&(r=ec(i,{ignoreDnt:n,persistenceType:s,persistencePrefix:o,window:a}))}catch(l){Q.error("Unexpected error when checking tracking opt-out status: "+l)}if(!r)return t.apply(this,arguments);var u=arguments[arguments.length-1];typeof u=="function"&&u(0)}}var Zt="$set",zr="$set_once",lt="$unset",wr="$add",Rt="$append",Er="$union",er="$remove",Vu="$delete",ic={set_action:function(t,e){var r={},i={};return f.isObject(t)?f.each(t,function(n,s){this._is_reserved_property(s)||(i[s]=n)},this):i[t]=e,r[Zt]=i,r},unset_action:function(t){var e={},r=[];return f.isArray(t)||(t=[t]),f.each(t,function(i){this._is_reserved_property(i)||r.push(i)},this),e[lt]=r,e},set_once_action:function(t,e){var r={},i={};return f.isObject(t)?f.each(t,function(n,s){this._is_reserved_property(s)||(i[s]=n)},this):i[t]=e,r[zr]=i,r},union_action:function(t,e){var r={},i={};return f.isObject(t)?f.each(t,function(n,s){this._is_reserved_property(s)||(i[s]=f.isArray(n)?n:[n])},this):i[t]=f.isArray(e)?e:[e],r[Er]=i,r},append_action:function(t,e){var r={},i={};return f.isObject(t)?f.each(t,function(n,s){this._is_reserved_property(s)||(i[s]=n)},this):i[t]=e,r[Rt]=i,r},remove_action:function(t,e){var r={},i={};return f.isObject(t)?f.each(t,function(n,s){this._is_reserved_property(s)||(i[s]=n)},this):i[t]=e,r[er]=i,r},delete_action:function(){var t={};return t[Vu]="",t}},ae=function(){};f.extend(ae.prototype,ic);ae.prototype._init=function(t,e,r){this._mixpanel=t,this._group_key=e,this._group_id=r};ae.prototype.set=Jr(function(t,e,r){var i=this.set_action(t,e);return f.isObject(t)&&(r=e),this._send_request(i,r)});ae.prototype.set_once=Jr(function(t,e,r){var i=this.set_once_action(t,e);return f.isObject(t)&&(r=e),this._send_request(i,r)});ae.prototype.unset=Jr(function(t,e){var r=this.unset_action(t);return this._send_request(r,e)});ae.prototype.union=Jr(function(t,e,r){f.isObject(t)&&(r=e);var i=this.union_action(t,e);return this._send_request(i,r)});ae.prototype.delete=Jr(function(t){var e=this.delete_action();return this._send_request(e,t)});ae.prototype.remove=Jr(function(t,e,r){var i=this.remove_action(t,e);return this._send_request(i,r)});ae.prototype._send_request=function(t,e){t.$group_key=this._group_key,t.$group_id=this._group_id,t.$token=this._get_config("token");var r=f.encodeDates(t);return this._mixpanel._track_or_batch({type:"groups",data:r,endpoint:this._get_config("api_host")+"/groups/",batcher:this._mixpanel.request_batchers.groups},e)};ae.prototype._is_reserved_property=function(t){return t==="$group_key"||t==="$group_id"};ae.prototype._get_config=function(t){return this._mixpanel.get_config(t)};ae.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};ae.prototype.remove=ae.prototype.remove;ae.prototype.set=ae.prototype.set;ae.prototype.set_once=ae.prototype.set_once;ae.prototype.union=ae.prototype.union;ae.prototype.unset=ae.prototype.unset;ae.prototype.toString=ae.prototype.toString;var N=function(){};f.extend(N.prototype,ic);N.prototype._init=function(t){this._mixpanel=t};N.prototype.set=rr(function(t,e,r){var i=this.set_action(t,e);return f.isObject(t)&&(r=e),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),i[Zt]=f.extend({},f.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),i[Zt]),this._send_request(i,r)});N.prototype.set_once=rr(function(t,e,r){var i=this.set_once_action(t,e);return f.isObject(t)&&(r=e),this._send_request(i,r)});N.prototype.unset=rr(function(t,e){var r=this.unset_action(t);return this._send_request(r,e)});N.prototype.increment=rr(function(t,e,r){var i={},n={};return f.isObject(t)?(f.each(t,function(s,o){if(!this._is_reserved_property(o))if(isNaN(parseFloat(s))){Q.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else n[o]=s},this),r=e):(f.isUndefined(e)&&(e=1),n[t]=e),i[wr]=n,this._send_request(i,r)});N.prototype.append=rr(function(t,e,r){f.isObject(t)&&(r=e);var i=this.append_action(t,e);return this._send_request(i,r)});N.prototype.remove=rr(function(t,e,r){f.isObject(t)&&(r=e);var i=this.remove_action(t,e);return this._send_request(i,r)});N.prototype.union=rr(function(t,e,r){f.isObject(t)&&(r=e);var i=this.union_action(t,e);return this._send_request(i,r)});N.prototype.track_charge=rr(function(t,e,r){if(!f.isNumber(t)&&(t=parseFloat(t),isNaN(t))){Q.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",f.extend({$amount:t},e),r)});N.prototype.clear_charges=function(t){return this.set("$transactions",[],t)};N.prototype.delete_user=function(){if(!this._identify_called()){Q.error("mixpanel.people.delete_user() requires you to call identify() first");return}var t={$delete:this._mixpanel.get_distinct_id()};return this._send_request(t)};N.prototype.toString=function(){return this._mixpanel.toString()+".people"};N.prototype._send_request=function(t,e){t.$token=this._get_config("token"),t.$distinct_id=this._mixpanel.get_distinct_id();var r=this._mixpanel.get_property("$device_id"),i=this._mixpanel.get_property("$user_id"),n=this._mixpanel.get_property("$had_persisted_distinct_id");r&&(t.$device_id=r),i&&(t.$user_id=i),n&&(t.$had_persisted_distinct_id=n);var s=f.encodeDates(t);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:s,endpoint:this._get_config("api_host")+"/engage/",batcher:this._mixpanel.request_batchers.people},e):(this._enqueue(t),f.isUndefined(e)||(this._get_config("verbose")?e({status:-1,error:null}):e(-1)),f.truncate(s,255))};N.prototype._get_config=function(t){return this._mixpanel.get_config(t)};N.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};N.prototype._enqueue=function(t){Zt in t?this._mixpanel.persistence._add_to_people_queue(Zt,t):zr in t?this._mixpanel.persistence._add_to_people_queue(zr,t):lt in t?this._mixpanel.persistence._add_to_people_queue(lt,t):wr in t?this._mixpanel.persistence._add_to_people_queue(wr,t):Rt in t?this._mixpanel.persistence._add_to_people_queue(Rt,t):er in t?this._mixpanel.persistence._add_to_people_queue(er,t):Er in t?this._mixpanel.persistence._add_to_people_queue(Er,t):Q.error("Invalid call to _enqueue():",t)};N.prototype._flush_one_queue=function(t,e,r,i){var n=this,s=f.extend({},this._mixpanel.persistence._get_queue(t)),o=s;!f.isUndefined(s)&&f.isObject(s)&&!f.isEmptyObject(s)&&(n._mixpanel.persistence._pop_from_people_queue(t,s),i&&(o=i(s)),e.call(n,o,function(a,u){a===0&&n._mixpanel.persistence._add_to_people_queue(t,s),f.isUndefined(r)||r(a,u)}))};N.prototype._flush=function(t,e,r,i,n,s,o){var a=this,u=this._mixpanel.persistence._get_queue(Rt),l=this._mixpanel.persistence._get_queue(er);if(this._flush_one_queue(Zt,this.set,t),this._flush_one_queue(zr,this.set_once,i),this._flush_one_queue(lt,this.unset,s,function(E){return f.keys(E)}),this._flush_one_queue(wr,this.increment,e),this._flush_one_queue(Er,this.union,n),!f.isUndefined(u)&&f.isArray(u)&&u.length){for(var h,p=function(E,D){E===0&&a._mixpanel.persistence._add_to_people_queue(Rt,h),f.isUndefined(r)||r(E,D)},_=u.length-1;_>=0;_--)h=u.pop(),f.isEmptyObject(h)||a.append(h,p);a._mixpanel.persistence.save()}if(!f.isUndefined(l)&&f.isArray(l)&&l.length){for(var v,y=function(E,D){E===0&&a._mixpanel.persistence._add_to_people_queue(er,v),f.isUndefined(o)||o(E,D)},x=l.length-1;x>=0;x--)v=l.pop(),f.isEmptyObject(v)||a.remove(v,y);a._mixpanel.persistence.save()}};N.prototype._is_reserved_property=function(t){return t==="$distinct_id"||t==="$token"||t==="$device_id"||t==="$user_id"||t==="$had_persisted_distinct_id"};N.prototype.set=N.prototype.set;N.prototype.set_once=N.prototype.set_once;N.prototype.unset=N.prototype.unset;N.prototype.increment=N.prototype.increment;N.prototype.append=N.prototype.append;N.prototype.remove=N.prototype.remove;N.prototype.union=N.prototype.union;N.prototype.track_charge=N.prototype.track_charge;N.prototype.clear_charges=N.prototype.clear_charges;N.prototype.delete_user=N.prototype.delete_user;N.prototype.toString=N.prototype.toString;var Zs="__mps",eo="__mpso",to="__mpus",ro="__mpa",io="__mpap",no="__mpr",so="__mpu",nc="$people_distinct_id",yn="__alias",Ti="__timers",Yu=[Zs,eo,to,ro,io,no,so,nc,yn,Ti],M=function(t){this.props={},this.campaign_params_saved=!1,t.persistence_name?this.name="mp_"+t.persistence_name:this.name="mp_"+t.token+"_mixpanel";var e=t.persistence;e!=="cookie"&&e!=="localStorage"&&(Q.critical("Unknown persistence type "+e+"; falling back to cookie"),e=t.persistence="cookie"),e==="localStorage"&&f.localStorage.is_supported()?this.storage=f.localStorage:this.storage=f.cookie,this.load(),this.update_config(t),this.upgrade(t),this.save()};M.prototype.properties=function(){var t={};return f.each(this.props,function(e,r){f.include(Yu,r)||(t[r]=e)}),t};M.prototype.load=function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=f.extend({},t))}};M.prototype.upgrade=function(t){var e=t.upgrade,r,i;e&&(r="mp_super_properties",typeof e=="string"&&(r=e),i=this.storage.parse(r),this.storage.remove(r),this.storage.remove(r,!0),i&&(this.props=f.extend(this.props,i.all,i.events))),!t.cookie_name&&t.name!=="mixpanel"&&(r="mp_"+t.token+"_"+t.name,i=this.storage.parse(r),i&&(this.storage.remove(r),this.storage.remove(r,!0),this.register_once(i))),this.storage===f.localStorage&&(i=f.cookie.parse(this.name),f.cookie.remove(this.name),f.cookie.remove(this.name,!0),i&&this.register_once(i))};M.prototype.save=function(){this.disabled||this.storage.set(this.name,f.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};M.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};M.prototype.clear=function(){this.remove(),this.props={}};M.prototype.register_once=function(t,e,r){return f.isObject(t)?(typeof e>"u"&&(e="None"),this.expire_days=typeof r>"u"?this.default_expiry:r,f.each(t,function(i,n){(!this.props.hasOwnProperty(n)||this.props[n]===e)&&(this.props[n]=i)},this),this.save(),!0):!1};M.prototype.register=function(t,e){return f.isObject(t)?(this.expire_days=typeof e>"u"?this.default_expiry:e,f.extend(this.props,t),this.save(),!0):!1};M.prototype.unregister=function(t){t in this.props&&(delete this.props[t],this.save())};M.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(f.info.campaignParams()),this.campaign_params_saved=!0)};M.prototype.update_search_keyword=function(t){this.register(f.info.searchInfo(t))};M.prototype.update_referrer_info=function(t){this.register_once({$initial_referrer:t||"$direct",$initial_referring_domain:f.info.referringDomain(t)||"$direct"},"")};M.prototype.get_referrer_info=function(){return f.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};M.prototype.safe_merge=function(t){return f.each(this.props,function(e,r){r in t||(t[r]=e)}),t};M.prototype.update_config=function(t){this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cookie_domain(t.cookie_domain),this.set_cross_site(t.cross_site_cookie),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie)};M.prototype.set_disabled=function(t){this.disabled=t,this.disabled?this.remove():this.save()};M.prototype.set_cookie_domain=function(t){t!==this.cookie_domain&&(this.remove(),this.cookie_domain=t,this.save())};M.prototype.set_cross_site=function(t){t!==this.cross_site&&(this.cross_site=t,this.remove(),this.save())};M.prototype.set_cross_subdomain=function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())};M.prototype.get_cross_subdomain=function(){return this.cross_subdomain};M.prototype.set_secure=function(t){t!==this.secure&&(this.secure=!!t,this.remove(),this.save())};M.prototype._add_to_people_queue=function(t,e){var r=this._get_queue_key(t),i=e[t],n=this._get_or_create_queue(Zt),s=this._get_or_create_queue(zr),o=this._get_or_create_queue(lt),a=this._get_or_create_queue(wr),u=this._get_or_create_queue(Er),l=this._get_or_create_queue(er,[]),h=this._get_or_create_queue(Rt,[]);r===Zs?(f.extend(n,i),this._pop_from_people_queue(wr,i),this._pop_from_people_queue(Er,i),this._pop_from_people_queue(lt,i)):r===eo?(f.each(i,function(p,_){_ in s||(s[_]=p)}),this._pop_from_people_queue(lt,i)):r===to?f.each(i,function(p){f.each([n,s,a,u],function(_){p in _&&delete _[p]}),f.each(h,function(_){p in _&&delete _[p]}),o[p]=!0}):r===ro?(f.each(i,function(p,_){_ in n?n[_]+=p:(_ in a||(a[_]=0),a[_]+=p)},this),this._pop_from_people_queue(lt,i)):r===so?(f.each(i,function(p,_){f.isArray(p)&&(_ in u||(u[_]=[]),u[_]=u[_].concat(p))}),this._pop_from_people_queue(lt,i)):r===no?(l.push(i),this._pop_from_people_queue(Rt,i)):r===io&&(h.push(i),this._pop_from_people_queue(lt,i)),Q.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),Q.log(e),this.save()};M.prototype._pop_from_people_queue=function(t,e){var r=this._get_queue(t);f.isUndefined(r)||(f.each(e,function(i,n){t===Rt||t===er?f.each(r,function(s){s[n]===i&&delete s[n]}):delete r[n]},this),this.save())};M.prototype._get_queue_key=function(t){if(t===Zt)return Zs;if(t===zr)return eo;if(t===lt)return to;if(t===wr)return ro;if(t===Rt)return io;if(t===er)return no;if(t===Er)return so;Q.error("Invalid queue:",t)};M.prototype._get_queue=function(t){return this.props[this._get_queue_key(t)]};M.prototype._get_or_create_queue=function(t,e){var r=this._get_queue_key(t);return e=f.isUndefined(e)?{}:e,this.props[r]||(this.props[r]=e)};M.prototype.set_event_timer=function(t,e){var r=this.props[Ti]||{};r[t]=e,this.props[Ti]=r,this.save()};M.prototype.remove_event_timer=function(t){var e=this.props[Ti]||{},r=e[t];return f.isUndefined(r)||(delete this.props[Ti][t],this.save()),r};var oo,je,sc=0,Xu=1,Qu=function(t){return t},Oi=function(){},it="mixpanel",oc="base64",Zu="json",Mr=Fe.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,ac=!Mr&&ct.indexOf("MSIE")===-1&&ct.indexOf("Mozilla")===-1,bn=null;$t.sendBeacon&&(bn=function(){return $t.sendBeacon.apply($t,arguments)});var Ta={api_host:"https://api-js.mixpanel.com",api_method:"POST",api_transport:"XHR",api_payload_format:oc,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:Oi,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:Oi,store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{}},cc=!1,w=function(){},Ls=function(t,e,r){var i,n=r===it?je:je[r];if(n&&oo===sc)i=n;else{if(n&&!f.isArray(n)){Q.error("You have already initialized "+r);return}i=new w}return i._cached_groups={},i._init(t,e,r),i.people=new N,i.people._init(i),Qt.DEBUG=Qt.DEBUG||i.get_config("debug"),!f.isUndefined(n)&&f.isArray(n)&&(i._execute_array.call(i.people,n.people),i._execute_array(n)),i};w.prototype.init=function(t,e,r){if(f.isUndefined(r)){this.report_error("You must name your new library: init(token, config, name)");return}if(r===it){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var i=Ls(t,e,r);return je[r]=i,i._loaded(),i};w.prototype._init=function(t,e,r){e=e||{},this.__loaded=!0,this.config={};var i={};if(!("api_payload_format"in e)){var n=e.api_host||Ta.api_host;n.match(/\.mixpanel\.com$/)&&(i.api_payload_format=Zu)}if(this.set_config(f.extend({},Ta,i,e,{name:r,token:t,callback_fn:(r===it?r:it+"."+r)+"._jsc"})),this._jsc=Oi,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!f.localStorage.is_supported(!0)||!Mr)this._batch_requests=!1,Q.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support");else if(this.init_batchers(),bn&&Fe.addEventListener){var s=f.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);Fe.addEventListener("pagehide",function(a){a.persisted&&s()}),Fe.addEventListener("visibilitychange",function(){ee.visibilityState==="hidden"&&s()})}}this.persistence=this.cookie=new M(this.config),this.unpersisted_superprops={},this._gdpr_init();var o=f.UUID();this.get_distinct_id()||this.register_once({distinct_id:o,$device_id:o},"")};w.prototype._loaded=function(){this.get_config("loaded")(this),this._set_default_superprops()};w.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(ee.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(ee.referrer)};w.prototype._dom_loaded=function(){f.each(this.__dom_loaded_queue,function(t){this._track_dom.apply(this,t)},this),this.has_opted_out_tracking()||f.each(this.__request_queue,function(t){this._send_request.apply(this,t)},this),delete this.__dom_loaded_queue,delete this.__request_queue};w.prototype._track_dom=function(t,e){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!cc)return this.__dom_loaded_queue.push([t,e]),!1;var r=new t().init(this);return r.track.apply(r,e)};w.prototype._prepare_callback=function(t,e){if(f.isUndefined(t))return null;if(Mr){var r=function(o){t(o,e)};return r}else{var i=this._jsc,n=""+Math.floor(Math.random()*1e8),s=this.get_config("callback_fn")+"["+n+"]";return i[n]=function(o){delete i[n],t(o,e)},s}};w.prototype._send_request=function(t,e,r,i){var n=!0;if(ac)return this.__request_queue.push(arguments),n;var s={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},o=null;!i&&(f.isFunction(r)||typeof r=="string")&&(i=r,r=null),r=f.extend(s,r||{}),Mr||(r.method="GET");var a=r.method==="POST",u=bn&&a&&r.transport.toLowerCase()==="sendbeacon",l=r.verbose;e.verbose&&(l=!0),this.get_config("test")&&(e.test=1),l&&(e.verbose=1),this.get_config("img")&&(e.img=1),Mr||(i?e.callback=i:(l||this.get_config("test"))&&(e.callback="(function(){})")),e.ip=this.get_config("ip")?1:0,e._=new Date().getTime().toString(),a&&(o="data="+encodeURIComponent(e.data),delete e.data),t+="?"+f.HTTPBuildQuery(e);var h=this;if("img"in e){var p=ee.createElement("img");p.src=t,ee.body.appendChild(p)}else if(u){try{n=bn(t,o)}catch(D){h.report_error(D),n=!1}try{i&&i(n?1:0)}catch(D){h.report_error(D)}}else if(Mr)try{var _=new XMLHttpRequest;_.open(r.method,t,!0);var v=this.get_config("xhr_headers");if(a&&(v["Content-Type"]="application/x-www-form-urlencoded"),f.each(v,function(D,U){_.setRequestHeader(U,D)}),r.timeout_ms&&typeof _.timeout<"u"){_.timeout=r.timeout_ms;var y=new Date().getTime()}_.withCredentials=!0,_.onreadystatechange=function(){if(_.readyState===4)if(_.status===200){if(i)if(l){var D;try{D=f.JSONDecode(_.responseText)}catch(re){if(h.report_error(re),r.ignore_json_errors)D=_.responseText;else return}i(D)}else i(Number(_.responseText))}else{var U;_.timeout&&!_.status&&new Date().getTime()-y>=_.timeout?U="timeout":U="Bad HTTP status: "+_.status+" "+_.statusText,h.report_error(U),i&&i(l?{status:0,error:U,xhr_req:_}:0)}},_.send(o)}catch(D){h.report_error(D),n=!1}else{var x=ee.createElement("script");x.type="text/javascript",x.async=!0,x.defer=!0,x.src=t;var E=ee.getElementsByTagName("script")[0];E.parentNode.insertBefore(x,E)}return n};w.prototype._execute_array=function(t){var e,r=[],i=[],n=[];f.each(t,function(o){o&&(e=o[0],f.isArray(e)?n.push(o):typeof o=="function"?o.call(this):f.isArray(o)&&e==="alias"?r.push(o):f.isArray(o)&&e.indexOf("track")!==-1&&typeof this[e]=="function"?n.push(o):i.push(o))},this);var s=function(o,a){f.each(o,function(u){if(f.isArray(u[0])){var l=a;f.each(u,function(h){l=l[h[0]].apply(l,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},a)};s(r,this),s(i,this),s(n,this)};w.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};w.prototype.init_batchers=function(){var t=this.get_config("token");if(!this.are_batchers_initialized()){var e=f.bind(function(r){return new xt("__mpq_"+t+r.queue_suffix,{libConfig:this.config,sendRequestFunc:f.bind(function(i,n,s){this._send_request(this.get_config("api_host")+r.endpoint,this._encode_data_for_request(i),n,this._prepare_callback(s,i))},this),beforeSendHook:f.bind(function(i){return this._run_hook("before_send_"+r.type,i)},this),errorReporter:this.get_config("error_reporter"),stopAllBatchingFunc:f.bind(this.stop_batch_senders,this)})},this);this.request_batchers={events:e({type:"events",endpoint:"/track/",queue_suffix:"_ev"}),people:e({type:"people",endpoint:"/engage/",queue_suffix:"_pp"}),groups:e({type:"groups",endpoint:"/groups/",queue_suffix:"_gr"})}}this.get_config("batch_autostart")&&this.start_batch_senders()};w.prototype.start_batch_senders=function(){this.are_batchers_initialized()&&(this._batch_requests=!0,f.each(this.request_batchers,function(t){t.start()}))};w.prototype.stop_batch_senders=function(){this._batch_requests=!1,f.each(this.request_batchers,function(t){t.stop(),t.clear()})};w.prototype.push=function(t){this._execute_array([t])};w.prototype.disable=function(t){typeof t>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(t)};w.prototype._encode_data_for_request=function(t){var e=f.JSONEncode(t);return this.get_config("api_payload_format")===oc&&(e=f.base64Encode(e)),{data:e}};w.prototype._track_or_batch=function(t,e){var r=f.truncate(t.data,255),i=t.endpoint,n=t.batcher,s=t.should_send_immediately,o=t.send_request_options||{};e=e||Oi;var a=!0,u=f.bind(function(){return o.skip_hooks||(r=this._run_hook("before_send_"+t.type,r)),r?(Q.log("MIXPANEL REQUEST:"),Q.log(r),this._send_request(i,this._encode_data_for_request(r),o,this._prepare_callback(e,r))):null},this);return this._batch_requests&&!s?n.enqueue(r,function(l){l?e(1,r):u()}):a=u(),a&&r};w.prototype.track=Ri(function(t,e,r,i){!i&&typeof r=="function"&&(i=r,r=null),r=r||{};var n=r.transport;n&&(r.transport=n);var s=r.send_immediately;if(typeof i!="function"&&(i=Oi),f.isUndefined(t)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(t)){i(0);return}e=e||{},e.token=this.get_config("token");var o=this.persistence.remove_event_timer(t);if(!f.isUndefined(o)){var a=new Date().getTime()-o;e.$duration=parseFloat((a/1e3).toFixed(3))}this._set_default_superprops(),e=f.extend({},f.info.properties(),this.persistence.properties(),this.unpersisted_superprops,e);var u=this.get_config("property_blacklist");f.isArray(u)?f.each(u,function(p){delete e[p]}):this.report_error("Invalid value for property_blacklist config: "+u);var l={event:t,properties:e},h=this._track_or_batch({type:"events",data:l,endpoint:this.get_config("api_host")+"/track/",batcher:this.request_batchers.events,should_send_immediately:s,send_request_options:r},i);return h});w.prototype.set_group=Ri(function(t,e,r){f.isArray(e)||(e=[e]);var i={};return i[t]=e,this.register(i),this.people.set(t,e,r)});w.prototype.add_group=Ri(function(t,e,r){var i=this.get_property(t);if(i===void 0){var n={};n[t]=[e],this.register(n)}else i.indexOf(e)===-1&&(i.push(e),this.register(n));return this.people.union(t,e,r)});w.prototype.remove_group=Ri(function(t,e,r){var i=this.get_property(t);if(i!==void 0){var n=i.indexOf(e);n>-1&&(i.splice(n,1),this.register({group_key:i})),i.length===0&&this.unregister(t)}return this.people.remove(t,e,r)});w.prototype.track_with_groups=Ri(function(t,e,r,i){var n=f.extend({},e||{});return f.each(r,function(s,o){s!=null&&(n[o]=s)}),this.track(t,n,i)});w.prototype._create_map_key=function(t,e){return t+"_"+JSON.stringify(e)};w.prototype._remove_group_from_cache=function(t,e){delete this._cached_groups[this._create_map_key(t,e)]};w.prototype.get_group=function(t,e){var r=this._create_map_key(t,e),i=this._cached_groups[r];return(i===void 0||i._group_key!==t||i._group_id!==e)&&(i=new ae,i._init(this,t,e),this._cached_groups[r]=i),i};w.prototype.track_pageview=function(t){f.isUndefined(t)&&(t=ee.location.href),this.track("mp_page_view",f.info.pageviewInfo(t))};w.prototype.track_links=function(){return this._track_dom.call(this,Br,arguments)};w.prototype.track_forms=function(){return this._track_dom.call(this,Tn,arguments)};w.prototype.time_event=function(t){if(f.isUndefined(t)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(t)||this.persistence.set_event_timer(t,new Date().getTime())};var el={persistent:!0},ao=function(t){var e;return f.isObject(t)?e=t:f.isUndefined(t)?e={}:e={days:t},f.extend({},el,e)};w.prototype.register=function(t,e){var r=ao(e);r.persistent?this.persistence.register(t,r.days):f.extend(this.unpersisted_superprops,t)};w.prototype.register_once=function(t,e,r){var i=ao(r);i.persistent?this.persistence.register_once(t,e,i.days):(typeof e>"u"&&(e="None"),f.each(t,function(n,s){(!this.unpersisted_superprops.hasOwnProperty(s)||this.unpersisted_superprops[s]===e)&&(this.unpersisted_superprops[s]=n)},this))};w.prototype.unregister=function(t,e){e=ao(e),e.persistent?this.persistence.unregister(t):delete this.unpersisted_superprops[t]};w.prototype._register_single=function(t,e){var r={};r[t]=e,this.register(r)};w.prototype.identify=function(t,e,r,i,n,s,o,a){var u=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var l=u;this.register_once({$had_persisted_distinct_id:!0,$device_id:l},"")}t!==u&&t!==this.get_property(yn)&&(this.unregister(yn),this.register({distinct_id:t})),this._flags.identify_called=!0,this.people._flush(e,r,i,n,s,o,a),t!==u&&this.track("$identify",{distinct_id:t,$anon_distinct_id:u},{skip_hooks:!0})};w.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var t=f.UUID();this.register_once({distinct_id:t,$device_id:t},"")};w.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};w.prototype.alias=function(t,e){if(t===this.get_property(nc))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var r=this;return f.isUndefined(e)&&(e=this.get_distinct_id()),t!==e?(this._register_single(yn,t),this.track("$create_alias",{alias:t,distinct_id:e},{skip_hooks:!0},function(){r.identify(t)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(t),-1)};w.prototype.name_tag=function(t){this._register_single("mp_name_tag",t)};w.prototype.set_config=function(t){if(f.isObject(t)){f.extend(this.config,t);var e=t.batch_size;e&&f.each(this.request_batchers,function(r){r.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),Qt.DEBUG=Qt.DEBUG||this.get_config("debug")}};w.prototype.get_config=function(t){return this.config[t]};w.prototype._run_hook=function(t){var e=(this.config.hooks[t]||Qu).apply(this,Yt.call(arguments,1));return typeof e>"u"&&(this.report_error(t+" hook did not return a value"),e=null),e};w.prototype.get_property=function(t){return this.persistence.props[t]};w.prototype.toString=function(){var t=this.get_config("name");return t!==it&&(t=it+"."+t),t};w.prototype._event_is_disabled=function(t){return f.isBlockedUA(ct)||this._flags.disable_all_events||f.include(this.__disabled_events,t)};w.prototype._gdpr_init=function(){var t=this.get_config("opt_out_tracking_persistence_type")==="localStorage";t&&f.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||f.cookie.get("mp_optout"))&&(f.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};w.prototype._gdpr_update_persistence=function(t){var e;if(t&&t.clear_persistence)e=!0;else if(t&&t.enable_persistence)e=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==e&&this.persistence.set_disabled(e),e&&f.each(this.request_batchers,function(r){r.clear()})};w.prototype._gdpr_call_func=function(t,e){return e=f.extend({track:f.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},e),f.localStorage.is_supported()||(e.persistence_type="cookie"),t(this.get_config("token"),{track:e.track,trackEventName:e.track_event_name,trackProperties:e.track_properties,persistenceType:e.persistence_type,persistencePrefix:e.cookie_prefix,cookieDomain:e.cookie_domain,cookieExpiration:e.cookie_expiration,crossSiteCookie:e.cross_site_cookie,crossSubdomainCookie:e.cross_subdomain_cookie,secureCookie:e.secure_cookie,ignoreDnt:e.ignore_dnt})};w.prototype.opt_in_tracking=function(t){t=f.extend({enable_persistence:!0},t),this._gdpr_call_func(Hu,t),this._gdpr_update_persistence(t)};w.prototype.opt_out_tracking=function(t){t=f.extend({clear_persistence:!0,delete_user:!0},t),t.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(Ku,t),this._gdpr_update_persistence(t)};w.prototype.has_opted_in_tracking=function(t){return this._gdpr_call_func(Ju,t)};w.prototype.has_opted_out_tracking=function(t){return this._gdpr_call_func(ec,t)};w.prototype.clear_opt_in_out_tracking=function(t){t=f.extend({enable_persistence:!0},t),this._gdpr_call_func(Wu,t),this._gdpr_update_persistence(t)};w.prototype.report_error=function(t,e){Q.error.apply(Q.error,arguments);try{!e&&!(t instanceof Error)&&(t=new Error(t)),this.get_config("error_reporter")(t,e)}catch(r){Q.error(r)}};w.prototype.init=w.prototype.init;w.prototype.reset=w.prototype.reset;w.prototype.disable=w.prototype.disable;w.prototype.time_event=w.prototype.time_event;w.prototype.track=w.prototype.track;w.prototype.track_links=w.prototype.track_links;w.prototype.track_forms=w.prototype.track_forms;w.prototype.track_pageview=w.prototype.track_pageview;w.prototype.register=w.prototype.register;w.prototype.register_once=w.prototype.register_once;w.prototype.unregister=w.prototype.unregister;w.prototype.identify=w.prototype.identify;w.prototype.alias=w.prototype.alias;w.prototype.name_tag=w.prototype.name_tag;w.prototype.set_config=w.prototype.set_config;w.prototype.get_config=w.prototype.get_config;w.prototype.get_property=w.prototype.get_property;w.prototype.get_distinct_id=w.prototype.get_distinct_id;w.prototype.toString=w.prototype.toString;w.prototype.opt_out_tracking=w.prototype.opt_out_tracking;w.prototype.opt_in_tracking=w.prototype.opt_in_tracking;w.prototype.has_opted_out_tracking=w.prototype.has_opted_out_tracking;w.prototype.has_opted_in_tracking=w.prototype.has_opted_in_tracking;w.prototype.clear_opt_in_out_tracking=w.prototype.clear_opt_in_out_tracking;w.prototype.get_group=w.prototype.get_group;w.prototype.set_group=w.prototype.set_group;w.prototype.add_group=w.prototype.add_group;w.prototype.remove_group=w.prototype.remove_group;w.prototype.track_with_groups=w.prototype.track_with_groups;w.prototype.start_batch_senders=w.prototype.start_batch_senders;w.prototype.stop_batch_senders=w.prototype.stop_batch_senders;M.prototype.properties=M.prototype.properties;M.prototype.update_search_keyword=M.prototype.update_search_keyword;M.prototype.update_referrer_info=M.prototype.update_referrer_info;M.prototype.get_cross_subdomain=M.prototype.get_cross_subdomain;M.prototype.clear=M.prototype.clear;var Nr={},tl=function(){f.each(Nr,function(t,e){e!==it&&(je[e]=t)}),je._=f},rl=function(){je.init=function(t,e,r){if(r)return je[r]||(je[r]=Nr[r]=Ls(t,e,r),je[r]._loaded()),je[r];var i=je;Nr[it]?i=Nr[it]:t&&(i=Ls(t,e,it),i._loaded(),Nr[it]=i),je=i,oo===Xu&&(Fe[it]=je),tl()}},il=function(){function t(){t.done||(t.done=!0,cc=!0,ac=!1,f.each(Nr,function(i){i._dom_loaded()}))}function e(){try{ee.documentElement.doScroll("left")}catch{setTimeout(e,1);return}t()}if(ee.addEventListener)ee.readyState==="complete"?t():ee.addEventListener("DOMContentLoaded",t,!1);else if(ee.attachEvent){ee.attachEvent("onreadystatechange",t);var r=!1;try{r=Fe.frameElement===null}catch{}ee.documentElement.doScroll&&r&&e()}f.register_event(Fe,"load",t,!0)};function nl(){return oo=sc,je=new w,rl(),je.init(),il(),je}var sl=nl(),ol=sl;const al="development",uc=Boolean("42e4e312193cedb668c1c18f753"),cl=localStorage.getItem("mixpanelStatus")==="active",ul="42e4e312193cedb668c1c18f753",ll=al==="development",fl={debug:ll},bs=uc?ol:void 0,hl=[];class bt{static instance;static localInstance=cl?bs:void 0;constructor(e){bs?.init(ul,e)}static defaultInstance(e){return bt.instance??=new bt({...fl,...e}),bt.instance}trackCta(e){bt.localInstance?.track("hizo click en cta",{description:e})}trackVisit(e){bt.localInstance?.track("visito la web",{description:e})}activate(){bt.localInstance=bs}deactivate(e){if(hl.some(r=>e instanceof r))throw new Error("not allowd");bt.localInstance=void 0}}const co=bt.defaultInstance;addEventListener("load",()=>{localStorage.getItem("theme")||localStorage.setItem("theme","dark"),co().trackVisit()});function Xe(t,e=document.body){return e.querySelector(t)}function lc(t,e=document.body){return[...e.querySelectorAll(t)]}function fc(t){t instanceof HTMLElement&&lc("svg",t)?.forEach(e=>{e.classList.toggle("swap-on"),e.classList.toggle("swap-off")})}const ws=Xe(".collapse > input");Xe('[data-button="menu"]')?.addEventListener("click",function(t){console.log("click"),t.preventDefault(),fc(this),ws instanceof HTMLInputElement&&(ws.checked=!ws.checked)});class hc{name;email;phone;constructor(e,r,i){this.email=r,this.name=i,this.phone=e}saveLocal(){this.email&&localStorage.setItem("email",this.email)}}const dl="Hola, quisiera mas informacion sobre el bootcamp",pl="https://api.whatsapp.com/send",Oa={}.PUBLIC_CONTATCS_API;class dc{from;to;constructor(e,r){this.from=e,this.to=r}get isInTime(){if(!this.to||!this.from)return!0;const e=new Date().getUTCHours();return e<=(this.to??23)&&e>=(this.from??0)}}class pc{schedules;text;contact;constructor(e,r,i=dl){this.schedules=e,this.contact=r,this.text=i}get wpText(){return`${this.contact.name||""}${this.text}`}get link(){const e=new URL(pl),{searchParams:r}=e;return r.append("text",this.wpText),r.append("phone",this.contact.phone.toString()),e}get isAvailable(){return Array.isArray(this.schedules)?Boolean(this.schedules.find(e=>e.isInTime)):this.schedules.isInTime}get linkString(){return this.link.toString()}}class Xt{static contactLists=[];static subscribe(e){Xt.contactLists.push(e)}static clear(){Xt.contactLists.forEach(e=>e.splice(0))}static forceActivateAttention(e){Xt.clear();const r=new pc(new dc,new hc(e));Xt.contactLists.forEach(i=>i.push(r))}}class Ct{static mixPanelInstance;static subscribe(e){Ct.mixPanelInstance=e}static deactivate(){localStorage.setItem("mixpanelStatus","inactive"),Ct.mixPanelInstance.deactivate(Ct)}static activate(){localStorage.setItem("mixpanelStatus","active"),Ct.mixPanelInstance=bt.defaultInstance(),Ct.mixPanelInstance.activate()}}const _l=[{contact:new hc(51956332124),schedule:new dc(12,23)}],gl=_l.map(({contact:t,schedule:e})=>new pc(e,t));class vl{contacs=gl;async fetchContacts(){return await(await fetch(Oa)).json()}async getContacsAsync(){try{return await this.fetchContacts()??this.contacs}catch(e){return console.log(e),this.contacs}}getContacts(e=!1){return!Oa||e?this.contacs:this.getContacsAsync()}}function ml(t,e){const[r]=e.filter(({isAvailable:i})=>i);r?t.target="_blank":t.target="_self",t.href=r?.linkString??"#contact"}function yl(t){const r=new vl().getContacts(!0);Xt.subscribe(r),Xe(`[data-cta="${t}"]`)?.addEventListener("click",({target:i})=>{i instanceof HTMLAnchorElement&&(co().trackCta(i.textContent||""),ml(i,r))})}yl("inscribirse");function xr(t){this._maxSize=t,this.clear()}xr.prototype.clear=function(){this._size=0,this._values=Object.create(null)};xr.prototype.get=function(t){return this._values[t]};xr.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var bl=/[^.^\]^[]+|(?=\[\]|\.\.)/g,_c=/^\d+$/,wl=/^\d/,El=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,xl=/^\s*(['"]?)(.*?)(\1)\s*$/,uo=512,Aa=new xr(uo),$a=new xr(uo),Ca=new xr(uo),br={Cache:xr,split:Ns,normalizePath:Es,setter:function(t){var e=Es(t);return $a.get(t)||$a.set(t,function(i,n){for(var s=0,o=e.length,a=i;s<o-1;){var u=e[s];if(u==="__proto__"||u==="constructor"||u==="prototype")return i;a=a[e[s++]]}a[e[s]]=n})},getter:function(t,e){var r=Es(t);return Ca.get(t)||Ca.set(t,function(n){for(var s=0,o=r.length;s<o;)if(n!=null||!e)n=n[r[s++]];else return;return n})},join:function(t){return t.reduce(function(e,r){return e+(lo(r)||_c.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){kl(Array.isArray(t)?t:Ns(t),e,r)}};function Es(t){return Aa.get(t)||Aa.set(t,Ns(t).map(function(e){return e.replace(xl,"$2")}))}function Ns(t){return t.match(bl)||[""]}function kl(t,e,r){var i=t.length,n,s,o,a;for(s=0;s<i;s++)n=t[s],n&&(Ol(n)&&(n='"'+n+'"'),a=lo(n),o=!a&&/^\d+$/.test(n),e.call(r,n,a,o,s,t))}function lo(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Sl(t){return t.match(wl)&&!t.match(_c)}function Tl(t){return El.test(t)}function Ol(t){return!lo(t)&&(Sl(t)||Tl(t))}const Al=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,On=t=>t.match(Al)||[],An=t=>t[0].toUpperCase()+t.slice(1),fo=(t,e)=>On(t).join(e).toLowerCase(),gc=t=>On(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),$l=t=>An(gc(t)),Cl=t=>fo(t,"_"),Dl=t=>fo(t,"-"),Rl=t=>An(fo(t," ")),Pl=t=>On(t).map(An).join(" ");var xs={words:On,upperFirst:An,camelCase:gc,pascalCase:$l,snakeCase:Cl,kebabCase:Dl,sentenceCase:Rl,titleCase:Pl},wn={},Il={get exports(){return wn},set exports(t){wn=t}};Il.exports=function(t){return vc(jl(t),t)};wn.array=vc;function vc(t,e){var r=t.length,i=new Array(r),n={},s=r,o=Fl(e),a=Ll(t);for(e.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)n[s]||u(t[s],s,new Set);return i;function u(l,h,p){if(p.has(l)){var _;try{_=", node was:"+JSON.stringify(l)}catch{_=""}throw new Error("Cyclic dependency"+_)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!n[h]){n[h]=!0;var v=o.get(l)||new Set;if(v=Array.from(v),h=v.length){p.add(l);do{var y=v[--h];u(y,a.get(y),p)}while(h);p.delete(l)}i[--r]=l}}}function jl(t){for(var e=new Set,r=0,i=t.length;r<i;r++){var n=t[r];e.add(n[0]),e.add(n[1])}return Array.from(e)}function Fl(t){for(var e=new Map,r=0,i=t.length;r<i;r++){var n=t[r];e.has(n[0])||e.set(n[0],new Set),e.has(n[1])||e.set(n[1],new Set),e.get(n[0]).add(n[1])}return e}function Ll(t){for(var e=new Map,r=0,i=t.length;r<i;r++)e.set(t[r],r);return e}const Nl=Object.prototype.toString,Ul=Error.prototype.toString,Ml=RegExp.prototype.toString,ql=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Bl=/^Symbol\((.*)\)(.*)$/;function zl(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Da(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return zl(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return ql.call(t).replace(Bl,"Symbol($1)");const i=Nl.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+Ul.call(t)+"]":i==="RegExp"?Ml.call(t):null}function qr(t,e){let r=Da(t,e);return r!==null?r:JSON.stringify(t,function(i,n){let s=Da(this[i],e);return s!==null?s:n},2)}function mc(t){return t==null?[]:[].concat(t)}let Hl=/\$\{\s*(\w+)\s*\}/g;class ze extends Error{static formatError(e,r){const i=r.label||r.path||"this";return i!==r.path&&(r=Object.assign({},r,{path:i})),typeof e=="string"?e.replace(Hl,(n,s)=>qr(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,i,n){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=r,this.path=i,this.type=n,this.errors=[],this.inner=[],mc(e).forEach(s=>{ze.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,ze)}}let At={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:i})=>{const n=i!=null&&i!==r?` (cast from the value \`${qr(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${qr(r,!0)}\``+n:`${t} must match the configured type. The validated value was: \`${qr(r,!0)}\``+n}},at={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Vt={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Us={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Kl={isValue:"${path} field must be ${value}"},Ms={noUnknown:"${path} field has unspecified keys: ${unknown}"},Jl={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:At,string:at,number:Vt,date:Us,object:Ms,array:Jl,boolean:Kl});const ho=t=>t&&t.__isYupSchema__;class En{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:n,otherwise:s}=r,o=typeof i=="function"?i:(...a)=>a.every(u=>u===i);return new En(e,(a,u)=>{var l;let h=o(...a)?n:s;return(l=h?.(u))!=null?l:u})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let i=this.refs.map(s=>s.getValue(r?.value,r?.parent,r?.context)),n=this.fn(i,e,r);if(n===void 0||n===e)return e;if(!ho(n))throw new TypeError("conditions must return a schema object");return n.resolve(r)}}const un={context:"$",value:"."};class kr{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===un.context,this.isValue=this.key[0]===un.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?un.context:this.isValue?un.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&br.getter(this.path,!0),this.map=r.map}getValue(e,r,i){let n=this.isContext?i:this.isValue?e:r;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(e,r){return this.getValue(e,r?.parent,r?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}kr.prototype.__isYupRef=!0;const wt=t=>t==null;function jr(t){function e({value:r,path:i="",options:n,originalValue:s,schema:o},a,u){const{name:l,test:h,params:p,message:_,skipAbsent:v}=t;let{parent:y,context:x,abortEarly:E=o.spec.abortEarly}=n;function D(ie){return kr.isRef(ie)?ie.getValue(r,y,x):ie}function U(ie={}){const le=Object.assign({value:r,originalValue:s,label:o.spec.label,path:ie.path||i,spec:o.spec},p,ie.params);for(const Le of Object.keys(le))le[Le]=D(le[Le]);const ir=new ze(ze.formatError(ie.message||_,le),r,le.path,ie.type||l);return ir.params=le,ir}const re=E?a:u;let J={path:i,parent:y,type:l,from:n.from,createError:U,resolve:D,options:n,originalValue:s,schema:o};const de=ie=>{ze.isError(ie)?re(ie):ie?u(null):re(U())},W=ie=>{ze.isError(ie)?re(ie):a(ie)},we=v&&wt(r);if(!n.sync){try{Promise.resolve(we?!0:h.call(J,r,J)).then(de,W)}catch(ie){W(ie)}return}let S;try{var ue;if(S=we?!0:h.call(J,r,J),typeof((ue=S)==null?void 0:ue.then)=="function")throw new Error(`Validation test of type: "${J.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(ie){W(ie);return}de(S)}return e.OPTIONS=t,e}function Wl(t,e,r,i=r){let n,s,o;return e?(br.forEach(e,(a,u,l)=>{let h=u?a.slice(1,a.length-1):a;t=t.resolve({context:i,parent:n,value:r});let p=t.type==="tuple",_=l?parseInt(h,10):0;if(t.innerType||p){if(p&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&_>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);n=r,r=r&&r[_],t=p?t.spec.types[_]:t.innerType}if(!l){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);n=r,r=r&&r[h],t=t.fields[h]}s=h,o=u?"["+a+"]":"."+a}),{schema:t,parent:n,parentPath:s}):{parent:n,parentPath:e,schema:t}}class xn extends Set{describe(){const e=[];for(const r of this.values())e.push(kr.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const i of this.values())r.push(e(i));return r}clone(){return new xn(this.values())}merge(e,r){const i=this.clone();return e.forEach(n=>i.add(n)),r.forEach(n=>i.delete(n)),i}}function Ur(t,e=new Map){if(ho(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let i=0;i<t.length;i++)r[i]=Ur(t[i],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[i,n]of t.entries())r.set(i,Ur(n,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const i of t)r.add(Ur(i,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[i,n]of Object.entries(t))r[i]=Ur(n,e)}else throw Error(`Unable to clone ${t}`);return r}class ft{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new xn,this._blacklist=new xn,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(At.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Ur(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=r,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,i=e.clone();const n=Object.assign({},r.spec,i.spec);return i.spec=n,i.internalTests=Object.assign({},r.internalTests,i.internalTests),i._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),i.tests=r.tests,i.exclusiveTests=r.exclusiveTests,i.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),i.transforms=[...r.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let i=r.conditions;r=r.clone(),r.conditions=[],r=i.reduce((n,s)=>s.resolve(n,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,i,n;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(n=e.recursive)!=null?n:this.spec.recursive})}cast(e,r={}){let i=this.resolve(Object.assign({value:e},r)),n=r.assert==="ignore-optionality",s=i._cast(e,r);if(r.assert!==!1&&!i.isType(s)){if(n&&wt(s))return s;let o=qr(e),a=qr(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,r){let i=e===void 0?e:this.transforms.reduce((n,s)=>s.call(this,n,e,this),e);return i===void 0&&(i=this.getDefault()),i}_validate(e,r={},i,n){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=r,u=e;a||(u=this._cast(u,Object.assign({assert:!1},r)));let l=[];for(let h of Object.values(this.internalTests))h&&l.push(h);this.runTests({path:s,value:u,originalValue:o,options:r,tests:l},i,h=>{if(h.length)return n(h,u);this.runTests({path:s,value:u,originalValue:o,options:r,tests:this.tests},i,n)})}runTests(e,r,i){let n=!1,{tests:s,value:o,originalValue:a,path:u,options:l}=e,h=x=>{n||(n=!0,r(x,o))},p=x=>{n||(n=!0,i(x,o))},_=s.length,v=[];if(!_)return p([]);let y={value:o,originalValue:a,path:u,options:l,schema:this};for(let x=0;x<s.length;x++){const E=s[x];E(y,h,function(U){U&&(v=v.concat(U)),--_<=0&&p(v)})}}asNestedTest({key:e,index:r,parent:i,parentPath:n,originalParent:s,options:o}){const a=e??r;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof a=="number";let l=i[a];const h=Object.assign({},o,{strict:!0,parent:i,value:l,originalValue:s[a],key:void 0,[u?"index":"key"]:a,path:u||a.includes(".")?`${n||""}[${l?a:`"${a}"`}]`:(n?`${n}.`:"")+e});return(p,_,v)=>this.resolve(h)._validate(l,h,_,v)}validate(e,r){let i=this.resolve(Object.assign({},r,{value:e}));return new Promise((n,s)=>i._validate(e,r,(o,a)=>{ze.isError(o)&&(o.value=a),s(o)},(o,a)=>{o.length?s(new ze(o,a)):n(a)}))}validateSync(e,r){let i=this.resolve(Object.assign({},r,{value:e})),n;return i._validate(e,Object.assign({},r,{sync:!0}),(s,o)=>{throw ze.isError(s)&&(s.value=o),s},(s,o)=>{if(s.length)throw new ze(s,e);n=o}),n}isValid(e,r){return this.validate(e,r).then(()=>!0,i=>{if(ze.isError(i))return!1;throw i})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(i){if(ze.isError(i))return!1;throw i}}_getDefault(){let e=this.spec.default;return e==null?e:typeof e=="function"?e.call(this):Ur(e)}getDefault(e){return this.resolve(e||{})._getDefault()}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const i=this.clone({nullable:e});return i.internalTests.nullable=jr({message:r,name:"nullable",test(n){return n===null?this.schema.spec.nullable:!0}}),i}optionality(e,r){const i=this.clone({optional:e});return i.internalTests.optionality=jr({message:r,name:"optionality",test(n){return n===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=At.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=At.notNull){return this.nullability(!1,e)}required(e=At.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=At.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),n=jr(r),s=r.exclusive||r.name&&i.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(i.exclusiveTests[r.name]=!!r.exclusive),i.tests=i.tests.filter(o=>!(o.OPTIONS.name===r.name&&(s||o.OPTIONS.test===n.OPTIONS.test))),i.tests.push(n),i}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let i=this.clone(),n=mc(e).map(s=>new kr(s));return n.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof r=="function"?new En(n,r):En.fromOptions(n,r)),i}typeError(e){let r=this.clone();return r.internalTests.typeError=jr({message:e,name:"typeError",test(i){return!wt(i)&&!this.schema._typeCheck(i)?this.createError({params:{type:this.schema.type}}):!0}}),r}oneOf(e,r=At.oneOf){let i=this.clone();return e.forEach(n=>{i._whitelist.add(n),i._blacklist.delete(n)}),i.internalTests.whiteList=jr({message:r,name:"oneOf",skipAbsent:!0,test(n){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(n)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),i}notOneOf(e,r=At.notOneOf){let i=this.clone();return e.forEach(n=>{i._blacklist.add(n),i._whitelist.delete(n)}),i.internalTests.blacklist=jr({message:r,name:"notOneOf",test(n){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(n)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),i}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:i,meta:n,optional:s,nullable:o}=r.spec;return{meta:n,label:i,optional:s,nullable:o,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,l,h)=>h.findIndex(p=>p.name===u.name)===l)}}}ft.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])ft.prototype[`${t}At`]=function(e,r,i={}){const{parent:n,parentPath:s,schema:o}=Wl(this,e,r,i.context);return o[t](n&&n[s],Object.assign({},i,{parent:n,path:e}))};for(const t of["equals","is"])ft.prototype[t]=ft.prototype.oneOf;for(const t of["not","nope"])ft.prototype[t]=ft.prototype.notOneOf;let Gl=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vl=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Yl=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Xl=t=>wt(t)||t===t.trim(),Ql={}.toString();function qs(){return new yc}class yc extends ft{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const n=e!=null&&e.toString?e.toString():e;return n===Ql?e:n})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||At.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=at.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,r=at.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,r=at.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,r){let i=!1,n,s;return r&&(typeof r=="object"?{excludeEmptyString:i=!1,message:n,name:s}=r:n=r),this.test({name:s||"matches",message:n||at.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&i||o.search(e)!==-1})}email(e=at.email){return this.matches(Gl,{name:"email",message:e,excludeEmptyString:!0})}url(e=at.url){return this.matches(Vl,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=at.uuid){return this.matches(Yl,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=at.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:Xl})}lowercase(e=at.lowercase){return this.transform(r=>wt(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>wt(r)||r===r.toLowerCase()})}uppercase(e=at.uppercase){return this.transform(r=>wt(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>wt(r)||r===r.toUpperCase()})}}qs.prototype=yc.prototype;let Zl=t=>t!=+t;function bc(){return new wc}class wc extends ft{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Zl(e)}}),this.withMutation(()=>{this.transform((e,r,i)=>{if(!i.spec.coerce)return e;let n=e;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return i.isType(n)?n:parseFloat(n)})})}min(e,r=Vt.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,r=Vt.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,r=Vt.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,r=Vt.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=Vt.positive){return this.moreThan(0,e)}negative(e=Vt.negative){return this.lessThan(0,e)}integer(e=Vt.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>wt(e)?e:e|0)}round(e){var r;let i=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(n=>wt(n)?n:Math[e](n))}}bc.prototype=wc.prototype;var ef=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function tf(t){var e=[1,4,5,6,7,10,11],r=0,i,n;if(n=ef.exec(t)){for(var s=0,o;o=e[s];++s)n[o]=+n[o]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,(n[8]===void 0||n[8]==="")&&(n[9]===void 0||n[9]==="")?i=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7]):(n[8]!=="Z"&&n[9]!==void 0&&(r=n[10]*60+n[11],n[9]==="+"&&(r=0-r)),i=Date.UTC(n[1],n[2],n[3],n[4],n[5]+r,n[6],n[7]))}else i=Date.parse?Date.parse(t):NaN;return i}let rf=new Date(""),nf=t=>Object.prototype.toString.call(t)==="[object Date]";class $n extends ft{constructor(){super({type:"date",check(e){return nf(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,i)=>!i.spec.coerce||i.isType(e)?e:(e=tf(e),isNaN(e)?$n.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let i;if(kr.isRef(e))i=e;else{let n=this.cast(e);if(!this._typeCheck(n))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);i=n}return i}min(e,r=Us.min){let i=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(i)}})}max(e,r=Us.max){let i=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(i)}})}}$n.INVALID_DATE=rf;$n.prototype;function sf(t,e=[]){let r=[],i=new Set,n=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let u=br.split(o)[0];i.add(u),n.has(`${a}-${u}`)||r.push([a,u])}for(const o of Object.keys(t)){let a=t[o];i.add(o),kr.isRef(a)&&a.isSibling?s(a.path,o):ho(a)&&"deps"in a&&a.deps.forEach(u=>s(u,o))}return wn.array(Array.from(i),r).reverse()}function Ra(t,e){let r=1/0;return t.some((i,n)=>{var s;if((s=e.path)!=null&&s.includes(i))return r=n,!0}),r}function Ec(t){return(e,r)=>Ra(t,e)-Ra(t,r)}const of=(t,e,r)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return r.isType(i)?i:t};function pn(t){if("fields"in t){const e={};for(const[r,i]of Object.entries(t.fields))e[r]=pn(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=pn(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(pn)}):"optional"in t?t.optional():t}const af=(t,e)=>{const r=[...br.normalizePath(e)];if(r.length===1)return r[0]in t;let i=r.pop(),n=br.getter(br.join(r),!0)(t);return!!(n&&i in n)};let Pa=t=>Object.prototype.toString.call(t)==="[object Object]";function cf(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(i=>r.indexOf(i)===-1)}const uf=Ec([]);function xc(t){return new kc(t)}class kc extends ft{constructor(e){super({type:"object",check(r){return Pa(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=uf,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var i;let n=super._cast(e,r);if(n===void 0)return this.getDefault();if(!this._typeCheck(n))return n;let s=this.fields,o=(i=r.stripUnknown)!=null?i:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(n).filter(p=>!this._nodes.includes(p))),u={},l=Object.assign({},r,{parent:u,__validating:r.__validating||!1}),h=!1;for(const p of a){let _=s[p],v=p in n;if(_){let y,x=n[p];l.path=(r.path?`${r.path}.`:"")+p,_=_.resolve({value:x,context:r.context,parent:u});let E=_ instanceof ft?_.spec:void 0,D=E?.strict;if(E!=null&&E.strip){h=h||p in n;continue}y=!r.__validating||!D?_.cast(n[p],l):n[p],y!==void 0&&(u[p]=y)}else v&&!o&&(u[p]=n[p]);(v!==p in u||u[p]!==n[p])&&(h=!0)}return h?u:n}_validate(e,r={},i,n){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=r;r.from=[{schema:this,value:o},...s],r.__validating=!0,r.originalValue=o,super._validate(e,r,i,(u,l)=>{if(!a||!Pa(l)){n(u,l);return}o=o||l;let h=[];for(let p of this._nodes){let _=this.fields[p];!_||kr.isRef(_)||h.push(_.asNestedTest({options:r,key:p,parent:l,parentPath:r.path,originalParent:o}))}this.runTests({tests:h,value:l,originalValue:o,options:r},i,p=>{n(p.sort(this._sortErrors).concat(u),l)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),i=r.fields;for(let[n,s]of Object.entries(this.fields)){const o=i[n];i[n]=o===void 0?s:o}return r.withMutation(n=>n.setFields(i,this._excludedEdges))}_getDefault(){if("default"in this.spec)return super._getDefault();if(!this._nodes.length)return;let e={};return this._nodes.forEach(r=>{const i=this.fields[r];e[r]=i&&"getDefault"in i?i.getDefault():void 0}),e}setFields(e,r){let i=this.clone();return i.fields=e,i._nodes=sf(e,r),i._sortErrors=Ec(Object.keys(e)),r&&(i._excludedEdges=r),i}shape(e,r=[]){return this.clone().withMutation(i=>{let n=i._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),n=[...i._excludedEdges,...r]),i.setFields(Object.assign(i.fields,e),n)})}partial(){const e={};for(const[r,i]of Object.entries(this.fields))e[r]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return pn(this)}pick(e){const r={};for(const i of e)this.fields[i]&&(r[i]=this.fields[i]);return this.setFields(r)}omit(e){const r=Object.assign({},this.fields);for(const i of e)delete r[i];return this.setFields(r)}from(e,r,i){let n=br.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return af(s,e)&&(o=Object.assign({},s),i||delete o[e],o[r]=n(s)),o})}json(){return this.transform(of)}noUnknown(e=!0,r=Ms.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:r,test(n){if(n==null)return!0;const s=cf(this.schema,n);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,r=Ms.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const i={};for(const n of Object.keys(r))i[e(n)]=r[n];return i})}camelCase(){return this.transformKeys(xs.camelCase)}snakeCase(){return this.transformKeys(xs.snakeCase)}constantCase(){return this.transformKeys(e=>xs.snakeCase(e).toUpperCase())}describe(e){let r=super.describe(e);r.fields={};for(const[n,s]of Object.entries(this.fields)){var i;let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r.fields[n]=s.describe(o)}return r}}xc.prototype=kc.prototype;const lf=xc().shape({name:qs().required(),email:qs().required().email(),phone:bc().required()}),ff="modulepreload",hf=function(t){return"/"+t},Ia={},Cn=function(e,r,i){if(!r||r.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=hf(s),s in Ia)return;Ia[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let h=n.length-1;h>=0;h--){const p=n[h];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":ff,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((h,p)=>{l.addEventListener("load",h),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};var df=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};const pf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>df(void 0,void 0,void 0,function*(){return yield(yield Cn(()=>Promise.resolve().then(()=>Dn),void 0)).fetch(...r)}):e=fetch,(...r)=>e(...r)};class po extends Error{constructor(e,r="FunctionsError",i){super(e),super.name=r,this.context=i}}class _f extends po{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gf extends po{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vf extends po{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mf=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};class yf{constructor(e,{headers:r={},customFetch:i}={}){this.url=e,this.headers=r,this.fetch=pf(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var i;return mf(this,void 0,void 0,function*(){try{const{headers:n,body:s}=r;let o={},a;s&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",a=s):typeof s=="string"?(o["Content-Type"]="text/plain",a=s):typeof FormData<"u"&&s instanceof FormData?a=s:(o["Content-Type"]="application/json",a=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),n),body:a}).catch(_=>{throw new _f(_)}),l=u.headers.get("x-relay-error");if(l&&l==="true")throw new gf(u);if(!u.ok)throw new vf(u);let h=((i=u.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}var Hr={},bf={get exports(){return Hr},set exports(t){Hr=t}};(function(t,e){var r=typeof self<"u"?self:Iu,i=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(b){return b&&DataView.prototype.isPrototypeOf(b)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(b){return b&&l.indexOf(Object.prototype.toString.call(b))>-1};function p(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function _(b){return typeof b!="string"&&(b=String(b)),b}function v(b){var k={next:function(){var I=b.shift();return{done:I===void 0,value:I}}};return a.iterable&&(k[Symbol.iterator]=function(){return k}),k}function y(b){this.map={},b instanceof y?b.forEach(function(k,I){this.append(I,k)},this):Array.isArray(b)?b.forEach(function(k){this.append(k[0],k[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(k){this.append(k,b[k])},this)}y.prototype.append=function(b,k){b=p(b),k=_(k);var I=this.map[b];this.map[b]=I?I+", "+k:k},y.prototype.delete=function(b){delete this.map[p(b)]},y.prototype.get=function(b){return b=p(b),this.has(b)?this.map[b]:null},y.prototype.has=function(b){return this.map.hasOwnProperty(p(b))},y.prototype.set=function(b,k){this.map[p(b)]=_(k)},y.prototype.forEach=function(b,k){for(var I in this.map)this.map.hasOwnProperty(I)&&b.call(k,this.map[I],I,this)},y.prototype.keys=function(){var b=[];return this.forEach(function(k,I){b.push(I)}),v(b)},y.prototype.values=function(){var b=[];return this.forEach(function(k){b.push(k)}),v(b)},y.prototype.entries=function(){var b=[];return this.forEach(function(k,I){b.push([I,k])}),v(b)},a.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function x(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function E(b){return new Promise(function(k,I){b.onload=function(){k(b.result)},b.onerror=function(){I(b.error)}})}function D(b){var k=new FileReader,I=E(k);return k.readAsArrayBuffer(b),I}function U(b){var k=new FileReader,I=E(k);return k.readAsText(b),I}function re(b){for(var k=new Uint8Array(b),I=new Array(k.length),j=0;j<k.length;j++)I[j]=String.fromCharCode(k[j]);return I.join("")}function J(b){if(b.slice)return b.slice(0);var k=new Uint8Array(b.byteLength);return k.set(new Uint8Array(b)),k.buffer}function de(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:a.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:a.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():a.arrayBuffer&&a.blob&&u(b)?(this._bodyArrayBuffer=J(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||h(b))?this._bodyArrayBuffer=J(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var b=x(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(D)}),this.text=function(){var b=x(this);if(b)return b;if(this._bodyBlob)return U(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(re(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(ue)}),this.json=function(){return this.text().then(JSON.parse)},this}var W=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function we(b){var k=b.toUpperCase();return W.indexOf(k)>-1?k:b}function S(b,k){k=k||{};var I=k.body;if(b instanceof S){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,k.headers||(this.headers=new y(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!I&&b._bodyInit!=null&&(I=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=k.credentials||this.credentials||"same-origin",(k.headers||!this.headers)&&(this.headers=new y(k.headers)),this.method=we(k.method||this.method||"GET"),this.mode=k.mode||this.mode||null,this.signal=k.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&I)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(I)}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function ue(b){var k=new FormData;return b.trim().split("&").forEach(function(I){if(I){var j=I.split("="),z=j.shift().replace(/\+/g," "),L=j.join("=").replace(/\+/g," ");k.append(decodeURIComponent(z),decodeURIComponent(L))}}),k}function ie(b){var k=new y,I=b.replace(/\r?\n[\t ]+/g," ");return I.split(/\r?\n/).forEach(function(j){var z=j.split(":"),L=z.shift().trim();if(L){var Ee=z.join(":").trim();k.append(L,Ee)}}),k}de.call(S.prototype);function le(b,k){k||(k={}),this.type="default",this.status=k.status===void 0?200:k.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in k?k.statusText:"OK",this.headers=new y(k.headers),this.url=k.url||"",this._initBody(b)}de.call(le.prototype),le.prototype.clone=function(){return new le(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},le.error=function(){var b=new le(null,{status:0,statusText:""});return b.type="error",b};var ir=[301,302,303,307,308];le.redirect=function(b,k){if(ir.indexOf(k)===-1)throw new RangeError("Invalid status code");return new le(null,{status:k,headers:{location:b}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(k,I){this.message=k,this.name=I;var j=Error(k);this.stack=j.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Le(b,k){return new Promise(function(I,j){var z=new S(b,k);if(z.signal&&z.signal.aborted)return j(new o.DOMException("Aborted","AbortError"));var L=new XMLHttpRequest;function Ee(){L.abort()}L.onload=function(){var A={status:L.status,statusText:L.statusText,headers:ie(L.getAllResponseHeaders()||"")};A.url="responseURL"in L?L.responseURL:A.headers.get("X-Request-URL");var nr="response"in L?L.response:L.responseText;I(new le(nr,A))},L.onerror=function(){j(new TypeError("Network request failed"))},L.ontimeout=function(){j(new TypeError("Network request failed"))},L.onabort=function(){j(new o.DOMException("Aborted","AbortError"))},L.open(z.method,z.url,!0),z.credentials==="include"?L.withCredentials=!0:z.credentials==="omit"&&(L.withCredentials=!1),"responseType"in L&&a.blob&&(L.responseType="blob"),z.headers.forEach(function(A,nr){L.setRequestHeader(nr,A)}),z.signal&&(z.signal.addEventListener("abort",Ee),L.onreadystatechange=function(){L.readyState===4&&z.signal.removeEventListener("abort",Ee)}),L.send(typeof z._bodyInit>"u"?null:z._bodyInit)})}return Le.polyfill=!0,s.fetch||(s.fetch=Le,s.Headers=y,s.Request=S,s.Response=le),o.Headers=y,o.Request=S,o.Response=le,o.fetch=Le,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var n=i;e=n.fetch,e.default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,t.exports=e})(bf,Hr);const _o=ju(Hr),Dn=Pu({__proto__:null,default:_o},[Hr]);class wf{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_o:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let n=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,u;let l=null,h=null,p=null,_=s.status,v=s.statusText;if(s.ok){if(this.method!=="HEAD"){const D=await s.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=D:h=JSON.parse(D))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),E=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&E&&E.length>1&&(p=parseInt(E[1]))}else{const x=await s.text();try{l=JSON.parse(x),Array.isArray(l)&&s.status===404&&(h=[],l=null,_=200,v="OK")}catch{s.status===404&&x===""?(_=204,v="No Content"):l={message:x}}if(l&&this.allowEmpty&&(!((u=l?.details)===null||u===void 0)&&u.includes("Results contain 0 rows"))&&(l=null,_=200,v="OK"),l&&this.shouldThrowOnError)throw l}return{error:l,data:h,count:p,status:_,statusText:v}});return this.shouldThrowOnError||(n=n.catch(s=>({error:{message:`FetchError: ${s.message}`,details:"",hint:"",code:s.code||""},data:null,count:null,status:0,statusText:""}))),n.then(e,r)}}class Ef extends wf{select(e){let r=!1;const i=(e??"*").split("").map(n=>/\s/.test(n)&&!r?"":(n==='"'&&(r=!r),n)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:i,foreignTable:n}={}){const s=n?`${n}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:i}={}){const n=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:i=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){const a=[e?"analyze":null,r?"verbose":null,i?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Lr extends Ef{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const i=r.map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:i,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${s}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,i])=>{this.url.searchParams.append(r,`eq.${i}`)}),this}not(e,r,i){return this.url.searchParams.append(e,`not.${r}.${i}`),this}or(e,{foreignTable:r}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,i){return this.url.searchParams.append(e,`${r}.${i}`),this}}class xf{constructor(e,{headers:r={},schema:i,fetch:n}){this.url=e,this.headers=r,this.schema=i,this.fetch=n}select(e,{head:r=!1,count:i}={}){const n=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new Lr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r}={}){const i="POST",n=[],s=e;if(r&&n.push(`count=${r}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),Array.isArray(e)){const o=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new Lr({method:i,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:i=!1,count:n}={}){const s="POST",o=[`resolution=${i?"ignore":"merge"}-duplicates`];r!==void 0&&this.url.searchParams.set("on_conflict",r);const a=e;return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new Lr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const i="PATCH",n=[],s=e;return r&&n.push(`count=${r}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Lr({method:i,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Lr({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const kf="1.4.0",Sf={"X-Client-Info":`postgrest-js/${kf}`};class Tf{constructor(e,{headers:r={},schema:i,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Sf),r),this.schema=i,this.fetch=n}from(e){const r=new URL(`${this.url}/${e}`);return new xf(r,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,r={},{head:i=!1,count:n}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let a;i?(s="HEAD",Object.entries(r).forEach(([l,h])=>{o.searchParams.append(l,`${h}`)})):(s="POST",a=r);const u=Object.assign({},this.headers);return n&&(u.Prefer=`count=${n}`),new Lr({method:s,url:o,headers:u,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}}var ks,ja;function Of(){if(ja)return ks;ja=1;var t=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return ks=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}(),ks}const Af="websocket",$f="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Cf=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Df="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Rf=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Pf="1.0.34",If={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},jf="https://github.com/theturtle32/WebSocket-Node",Ff={node:">=4.0.0"},Lf={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Nf={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Uf={verbose:!1},Mf={test:"tape test/unit/*.js",gulp:"gulp"},qf="index",Bf={lib:"./lib"},zf="lib/browser.js",Hf="Apache-2.0",Kf={name:Af,description:$f,keywords:Cf,author:Df,contributors:Rf,version:Pf,repository:If,homepage:jf,engines:Ff,dependencies:Lf,devDependencies:Nf,config:Uf,scripts:Mf,main:qf,directories:Bf,browser:zf,license:Hf};var Jf=Kf.version,gr;if(typeof globalThis=="object")gr=globalThis;else try{gr=Of()}catch{}finally{if(!gr&&typeof window<"u"&&(gr=window),!gr)throw new Error("Could not determine global this")}var Ai=gr.WebSocket||gr.MozWebSocket,Wf=Jf;function Sc(t,e){var r;return e?r=new Ai(t,e):r=new Ai(t),r}Ai&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(Sc,t,{get:function(){return Ai[t]}})});var Gf={w3cwebsocket:Ai?Sc:null,version:Wf};const Vf="2.6.0",Yf={"X-Client-Info":`realtime-js/${Vf}`},Xf="1.0.0",Tc=1e4,Qf=1e3;var Ei;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ei||(Ei={}));var Ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ye||(Ye={}));var ut;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ut||(ut={}));var Bs;(function(t){t.websocket="websocket"})(Bs||(Bs={}));var vr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vr||(vr={}));class Oc{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Zf{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,r,i)}_decodeBroadcast(e,r,i){const n=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=i.decode(e.slice(o,o+n));o=o+n;const u=i.decode(e.slice(o,o+s));o=o+s;const l=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:l}}}class Ss{constructor(e,r,i={},n=Tc){this.channel=e,this.event=r,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Fa;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Fa||(Fa={}));class xi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xi.syncState(this.state,n,s,o),this.pendingDiffs.forEach(u=>{this.state=xi.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},n=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=xi.syncDiff(this.state,n,s,o),a())}),this.onJoin((n,s,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:s,newPresences:o})}),this.onLeave((n,s,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,n){const s=this.cloneDeep(e),o=this.transformState(r),a={},u={};return this.map(s,(l,h)=>{o[l]||(u[l]=h)}),this.map(o,(l,h)=>{const p=s[l];if(p){const _=h.map(E=>E.presence_ref),v=p.map(E=>E.presence_ref),y=h.filter(E=>v.indexOf(E.presence_ref)<0),x=p.filter(E=>_.indexOf(E.presence_ref)<0);y.length>0&&(a[l]=y),x.length>0&&(u[l]=x)}else a[l]=h}),this.syncDiff(s,{joins:a,leaves:u},i,n)}static syncDiff(e,r,i,n){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(s,(a,u)=>{var l;const h=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(u),h.length>0){const p=e[a].map(v=>v.presence_ref),_=h.filter(v=>p.indexOf(v.presence_ref)<0);e[a].unshift(..._)}i(a,h,u)}),this.map(o,(a,u)=>{let l=e[a];if(!l)return;const h=u.map(p=>p.presence_ref);l=l.filter(p=>h.indexOf(p.presence_ref)<0),e[a]=l,n(a,l,u),l.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const n=e[i];return"metas"in n?r[i]=n.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[i]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(te||(te={}));const La=(t,e,r={})=>{var i;const n=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((s,o)=>(s[o]=eh(o,t,e,n),s),{})},eh=(t,e,r,i)=>{const n=e.find(a=>a.name===t),s=n?.type,o=r[t];return s&&!i.includes(s)?Ac(s,o):zs(o)},Ac=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return nh(e,r)}switch(t){case te.bool:return th(e);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return rh(e);case te.json:case te.jsonb:return ih(e);case te.timestamp:return sh(e);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return zs(e);default:return zs(e)}},zs=t=>t,th=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},rh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ih=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nh=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Ac(e,a))}return t},sh=t=>typeof t=="string"?t.replace(" ","T"):t;var Na=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})},Ua;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ua||(Ua={}));var Ma;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(Ma||(Ma={}));var qa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qa||(qa={}));class go{constructor(e,r={config:{}},i){this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ss(this,ut.join,this.params,this.timeout),this.rejoinTimer=new Oc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ut.reply,{},(n,s)=>{this._trigger(this._replyEventName(s),n)}),this.presence=new xi(this)}subscribe(e,r=this.timeout){var i,n;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(l=>e&&e("CHANNEL_ERROR",l)),this._onClose(()=>e&&e("CLOSED"));const a={},u={broadcast:s,presence:o,postgres_changes:(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(l=>l.filter))!==null&&n!==void 0?n:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:l})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){e&&e("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,_=(h=p?.length)!==null&&h!==void 0?h:0,v=[];for(let y=0;y<_;y++){const x=p[y],{filter:{event:E,schema:D,table:U,filter:re}}=x,J=l&&l[y];if(J&&J.event===E&&J.schema===D&&J.table===U&&J.filter===re)v.push(Object.assign(Object.assign({},x),{id:J.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e("SUBSCRIBED");return}}).receive("error",l=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,r={}){return Na(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)})}untrack(e={}){return Na(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,r,i){return this._on(e,r,i)}send(e,r={}){return new Promise(i=>{var n,s,o;const a=this._push(e.type,e,r.timeout||this.timeout);a.rateLimited&&i("rate limited"),e.type==="broadcast"&&!(!((o=(s=(n=this.params)===null||n===void 0?void 0:n.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),a.receive("ok",()=>i("ok")),a.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ut.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const n=new Ss(this,ut.leave,{},e);n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ss(this,e,r,i);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var n,s;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:l,join:h}=ut;if(i&&[a,u,l,h].indexOf(o)>=0&&i!==this._joinRef())return;let _=this._onMessage(o,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(v=>{var y,x,E;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((E=(x=v.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(v=>v.callback(_,i)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var y,x,E,D,U,re;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const J=v.id,de=(y=v.filter)===null||y===void 0?void 0:y.event;return J&&((x=r.ids)===null||x===void 0?void 0:x.includes(J))&&(de==="*"||de?.toLocaleLowerCase()===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const J=(U=(D=v?.filter)===null||D===void 0?void 0:D.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return J==="*"||J===((re=r?.event)===null||re===void 0?void 0:re.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof _=="object"&&"ids"in _){const y=_.data,{schema:x,table:E,commit_timestamp:D,type:U,errors:re}=y;_=Object.assign(Object.assign({},{schema:x,table:E,commit_timestamp:D,eventType:U,new:{},old:{},errors:re}),this._getPayloadRecords(y))}v.callback(_,i)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const n=e.toLocaleLowerCase(),s={type:n,filter:r,callback:i};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(n=>{var s;return!(((s=n.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&go.isEqual(n.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ut.close,{},e)}_onError(e){this._on(ut.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=La(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=La(e.columns,e.old_record)),r}}var oh=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};const ah=()=>{};class ch{constructor(e,r){var i;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Yf,this.params={},this.timeout=Tc,this.transport=Gf.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ah,this.conn=null,this.sendBuffer=[],this.serializer=new Zf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${Bs.websocket}`,r?.params&&(this.params=r.params),r?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),r?.transport&&(this.transport=r.transport),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const n=(i=r?.params)===null||i===void 0?void 0:i.eventsPerSecond;n&&(this.eventsPerSecondLimitMs=Math.floor(1e3/n)),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r?.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Oc(()=>oh(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return e.unsubscribe().then(r=>(this.channels.length===0&&this.disconnect(),r))}removeAllChannels(){return Promise.all(this.channels.map(e=>e.unsubscribe())).then(e=>(this.disconnect(),e))}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ei.connecting:return vr.Connecting;case Ei.open:return vr.Open;case Ei.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}channel(e,r={config:{}}){this.isConnected()||this.connect();const i=new go(`realtime:${e}`,r,this);return this.channels.push(i),i}push(e){const{topic:r,event:i,payload:n,ref:s}=e;let o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};if(this.log("push",`${r} ${i} (${s})`,n),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(i)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(ut.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xf}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:i,event:n,payload:s,ref:o}=r;(o&&o===this.pendingHeartbeatRef||n===s?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${i} ${n} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(n,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ut.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${i}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Qf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,r=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),r>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},r)),!1)}}class $c extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Be(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uh extends $c{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class lh extends $c{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Cc=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};const Dc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Cc(void 0,void 0,void 0,function*(){return yield(yield Cn(()=>Promise.resolve().then(()=>Dn),void 0)).fetch(...r)}):e=fetch,(...r)=>e(...r)},fh=()=>Cc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cn(()=>Promise.resolve().then(()=>Dn),void 0)).Response:Response});var Wr=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};const Ba=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hh=(t,e)=>Wr(void 0,void 0,void 0,function*(){const r=yield fh();t instanceof r?t.json().then(i=>{e(new uh(Ba(i),t.status||500))}):e(new lh(Ba(t),t))}),dh=(t,e,r,i)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),r))};function Rn(t,e,r,i,n,s){return Wr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,dh(e,i,n,s)).then(u=>{if(!u.ok)throw u;return i?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>hh(u,a))})})}function Hs(t,e,r,i){return Wr(this,void 0,void 0,function*(){return Rn(t,"GET",e,r,i)})}function mr(t,e,r,i,n){return Wr(this,void 0,void 0,function*(){return Rn(t,"POST",e,i,n,r)})}function ph(t,e,r,i,n){return Wr(this,void 0,void 0,function*(){return Rn(t,"PUT",e,i,n,r)})}function Rc(t,e,r,i,n){return Wr(this,void 0,void 0,function*(){return Rn(t,"DELETE",e,i,n,r)})}var vt=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};const _h={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vh{constructor(e,r={},i,n){this.url=e,this.headers=r,this.bucketId=i,this.fetch=Dc(n)}uploadOrUpdate(e,r,i,n){return vt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},gh),n),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",o.cacheControl)):(s=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const u=this._removeEmptyFolders(r),l=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${l}`,{method:e,body:s,headers:a});return h.ok?{data:{path:u},error:null}:{data:null,error:yield h.json()}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}upload(e,r,i){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}update(e,r,i){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r){return vt(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers}),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}copy(e,r){return vt(this,void 0,void 0,function*(){try{return{data:{path:(yield mr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers})).Key},error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,i){return vt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),s=yield mr(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,i){return vt(this,void 0,void 0,function*(){try{const n=yield mr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}download(e,r){return vt(this,void 0,void 0,function*(){const n=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Hs(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}getPublicUrl(e,r){const i=this._getFinalPath(e),n=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&n.push(s);const a=typeof r?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(r?.transform||{});u!==""&&n.push(u);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${l}`)}}}remove(e){return vt(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}list(e,r,i){return vt(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},_h),r),{prefix:e||""});return{data:yield mr(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},i),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const mh="2.3.0",yh={"X-Client-Info":`storage-js/${mh}`};var Fr=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};class bh{constructor(e,r={},i){this.url=e,this.headers=Object.assign(Object.assign({},yh),r),this.fetch=Dc(i)}listBuckets(){return Fr(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Be(e))return{data:null,error:e};throw e}})}getBucket(e){return Fr(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Fr(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public},{headers:this.headers}),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Fr(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public},{headers:this.headers}),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Fr(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Fr(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}}class wh extends bh{constructor(e,r={},i){super(e,r,i)}from(e){return new vh(this.url,this.headers,e,this.fetch)}}const Eh="2.8.0",xh={"X-Client-Info":`supabase-js/${Eh}`};var kh=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};const Sh=t=>{let e;return t?e=t:typeof fetch>"u"?e=_o:e=fetch,(...r)=>e(...r)},Th=()=>typeof Headers>"u"?Hr.Headers:Headers,Oh=(t,e,r)=>{const i=Sh(r),n=Th();return(s,o)=>kh(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let l=new n(o?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),i(s,Object.assign(Object.assign({},o),{headers:l}))})};function Ah(t){return t.replace(/\/$/,"")}function $h(t,e){const{db:r,auth:i,realtime:n,global:s}=t,{db:o,auth:a,realtime:u,global:l}=e;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},u),n),global:Object.assign(Object.assign({},l),s)}}var Pi=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};function Ch(t){return Math.round(Date.now()/1e3)+t}function Dh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const _r=()=>typeof document<"u",dr={tested:!1,writable:!1},Ts=()=>{if(!_r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dr.tested)return dr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),dr.tested=!0,dr.writable=!0}catch{dr.tested=!0,dr.writable=!1}return dr.writable};function rt(t,e){var r;e||(e=((r=window?.location)===null||r===void 0?void 0:r.href)||""),t=t.replace(/[\[\]]/g,"\\$&");const i=new RegExp("[?&#]"+t+"(=([^&#]*)|&|#|$)"),n=i.exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}const Pc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Pi(void 0,void 0,void 0,function*(){return yield(yield Cn(()=>Promise.resolve().then(()=>Dn),void 0)).fetch(...r)}):e=fetch,(...r)=>e(...r)},Rh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ph=(t,e,r)=>Pi(void 0,void 0,void 0,function*(){yield t.setItem(e,JSON.stringify(r))}),za=(t,e)=>Pi(void 0,void 0,void 0,function*(){const r=yield t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}}),Ih=(t,e)=>Pi(void 0,void 0,void 0,function*(){yield t.removeItem(e)});function jh(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",i,n,s,o,a,u,l,h=0;for(t=t.replace("-","+").replace("_","/");h<t.length;)o=e.indexOf(t.charAt(h++)),a=e.indexOf(t.charAt(h++)),u=e.indexOf(t.charAt(h++)),l=e.indexOf(t.charAt(h++)),i=o<<2|a>>4,n=(a&15)<<4|u>>2,s=(u&3)<<6|l,r=r+String.fromCharCode(i),u!=64&&n!=0&&(r=r+String.fromCharCode(n)),l!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}class Pn{constructor(){this.promise=new Pn.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Pn.promiseConstructor=Promise;function Ha(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=r[1];return JSON.parse(jh(i))}function Fh(t){return new Promise(e=>{setTimeout(()=>e(null),t)})}function Lh(t,e){return new Promise((i,n)=>{Pi(this,void 0,void 0,function*(){for(let s=0;s<1/0;s++)try{const o=yield t(s);if(!e(s,null,o)){i(o);return}}catch(o){if(!e(s,o)){n(o);return}}})})}class vo extends Error{constructor(e,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r}}function Y(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Nh extends vo{constructor(e,r){super(e,r),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Uh(t){return Y(t)&&t.name==="AuthApiError"}class Ic extends vo{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class In extends vo{constructor(e,r,i){super(e),this.name=r,this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mi extends In{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Os extends In{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class Tt extends In{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ks extends In{constructor(e,r){super(e,"AuthRetryableFetchError",r)}}var mo=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})},Mh=globalThis&&globalThis.__rest||function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};const ln=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qh=(t,e)=>mo(void 0,void 0,void 0,function*(){const r=[502,503,504];Rh(t)?r.includes(t.status)?e(new Ks(ln(t),t.status)):t.json().then(i=>{e(new Nh(ln(i),t.status||500))}).catch(i=>{e(new Ic(ln(i),i))}):e(new Ks(ln(t),0))}),Bh=(t,e,r,i)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),r))};function Z(t,e,r,i){var n;return mo(this,void 0,void 0,function*(){const s=Object.assign({},i?.headers);i?.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const o=(n=i?.query)!==null&&n!==void 0?n:{};i?.redirectTo&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=yield zh(t,e,r+a,{headers:s,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(u):{data:Object.assign({},u),error:null}})}function zh(t,e,r,i,n,s){return mo(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Bh(e,i,n,s)).then(u=>{if(!u.ok)throw u;return i?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>qh(u,a))})})}function pr(t){var e;let r=null;Wh(t)&&(r=Object.assign({},t),r.expires_at=Ch(t.expires_in));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function yr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Hh(t){return{data:t,error:null}}function Kh(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:n,verification_type:s}=t,o=Mh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:i,redirect_to:n,verification_type:s},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function Jh(t){return t}function Wh(t){return t.access_token&&t.refresh_token&&t.expires_in}var mt=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})},Gh=globalThis&&globalThis.__rest||function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};class Vh{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=Pc(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return mt(this,void 0,void 0,function*(){try{return yield Z(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}inviteUserByEmail(e,r={}){return mt(this,void 0,void 0,function*(){try{return yield Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return mt(this,void 0,void 0,function*(){try{const{options:r}=e,i=Gh(e,["options"]),n=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(n.new_email=i?.newEmail,delete n.newEmail),yield Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Kh,redirectTo:r?.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}})}createUser(e){return mt(this,void 0,void 0,function*(){try{return yield Z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yr})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}})}listUsers(e){var r,i,n,s,o,a,u;return mt(this,void 0,void 0,function*(){try{const l={nextPage:null,lastPage:0,total:0},h=yield Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(s=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:""},xform:Jh});if(h.error)throw h.error;const p=yield h.json(),_=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(y.split(";")[1].split("=")[1]);l[`${E}Page`]=x}),l.total=parseInt(_)),{data:Object.assign(Object.assign({},p),l),error:null}}catch(l){if(Y(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return mt(this,void 0,void 0,function*(){try{return yield Z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yr})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}})}updateUserById(e,r){return mt(this,void 0,void 0,function*(){try{return yield Z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:yr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}})}deleteUser(e,r=!1){return mt(this,void 0,void 0,function*(){try{return yield Z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:yr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}})}_listFactors(e){return mt(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield Z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:i}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}_deleteFactor(e){return mt(this,void 0,void 0,function*(){try{return{data:yield Z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}}const Yh="2.12.1",Xh="http://localhost:9999",Qh="supabase.auth.token",Zh={"X-Client-Info":`gotrue-js/${Yh}`},ed=10,td={getItem:t=>Ts()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ts()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ts()&&globalThis.localStorage.removeItem(t)}};function rd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var B=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};rd();const id={url:Xh,storageKey:Qh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zh},As=10*1e3,nd=3;class sd{constructor(e){this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;const r=Object.assign(Object.assign({},id),e);this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||td,this.admin=new Vh({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Pc(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},_r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey&&(this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey),this.broadcastChannel.addEventListener("message",i=>{this._notifyAllSubscribers(i.data.event,i.data.session,!1)})),this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return B(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:r}=yield this._getSessionFromUrl();if(r)return yield this._removeSession(),{error:r};const{session:i,redirectType:n}=e;return yield this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN",i),n==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",i),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return Y(e)?{error:e}:{error:new Ic("Unexpected error during initialization",e)}}finally{yield this._handleVisibilityChange()}})}signUp(e){var r,i;return B(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in e){const{email:l,password:h,options:p}=e;n=yield Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:l,password:h,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:pr})}else if("phone"in e){const{phone:l,password:h,options:p}=e;n=yield Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:l,password:h,data:(i=p?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:pr})}else throw new Os("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o||!s)return{data:{user:null,session:null},error:o};const a=s.session,u=s.user;return s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithPassword(e){var r,i;return B(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in e){const{email:a,password:u,options:l}=e;n=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,data:(r=l?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:pr})}else if("phone"in e){const{phone:a,password:u,options:l}=e;n=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,data:(i=l?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:pr})}else throw new Os("You must provide either an email or phone number and a password");const{data:s,error:o}=n;return o||!s?{data:{user:null,session:null},error:o}:(s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:o})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOAuth(e){var r,i,n,s;return B(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}signInWithIdToken(e){return B(this,void 0,void 0,function*(){yield this._removeSession();try{const{options:r,provider:i,token:n,nonce:s}=e,o=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:pr}),{data:a,error:u}=o;return u||!a?{data:{user:null,session:null},error:u}:(a.session&&(yield this._saveSession(a.session),this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){var r,i,n,s;return B(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){const{email:o,options:a}=e,{error:u}=yield Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=a?.data)!==null&&r!==void 0?r:{},create_user:(i=a?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in e){const{phone:o,options:a}=e,{error:u}=yield Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(n=a?.data)!==null&&n!==void 0?n:{},create_user:(s=a?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null},error:u}}throw new Os("You must provide either an email or phone number.")}catch(o){if(Y(o))return{data:{user:null,session:null},error:o};throw o}})}verifyOtp(e){var r,i;return B(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:n,error:s}=yield Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:(r=e.options)===null||r===void 0?void 0:r.captchaToken}}),redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,xform:pr});if(s)throw s;if(!n)throw"An error occurred on token verification.";const o=n.session,a=n.user;return o?.access_token&&(yield this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:a,session:o},error:null}}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithSSO(e){var r,i,n;return B(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:Hh})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}getSession(){return B(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){const s=yield za(this.storage,this.storageKey);s!==null&&(this._isValidSession(s)?e=s:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};if(!(e.expires_at?e.expires_at<=Date.now()/1e3:!1))return{data:{session:e},error:null};const{session:i,error:n}=yield this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}})}getUser(e){var r,i;return B(this,void 0,void 0,function*(){try{if(!e){const{data:n,error:s}=yield this.getSession();if(s)throw s;e=(i=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0}return yield Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yr})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}})}updateUser(e,r={}){return B(this,void 0,void 0,function*(){try{const{data:i,error:n}=yield this.getSession();if(n)throw n;if(!i.session)throw new mi;const s=i.session,{data:o,error:a}=yield Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:e,jwt:s.access_token,xform:yr});if(a)throw a;return s.user=o.user,yield this._saveSession(s),this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}})}_decodeJWT(e){return Ha(e)}setSession(e){return B(this,void 0,void 0,function*(){try{if(!e.access_token||!e.refresh_token)throw new mi;const r=Date.now()/1e3;let i=r,n=!0,s=null;const o=Ha(e.access_token);if(o.exp&&(i=o.exp,n=i<=r),n){const{session:a,error:u}=yield this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:u}=yield this.getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Y(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){var r;return B(this,void 0,void 0,function*(){try{if(!e){const{data:s,error:o}=yield this.getSession();if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new mi;const{session:i,error:n}=yield this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}})}_getSessionFromUrl(){return B(this,void 0,void 0,function*(){try{if(!_r())throw new Tt("No browser detected.");if(!this._isImplicitGrantFlow())throw new Tt("Not a valid implicit grant flow url.");const e=rt("error_description");if(e){const x=rt("error_code");if(!x)throw new Tt("No error_code detected.");const E=rt("error");throw E?new Tt(e,{error:E,code:x}):new Tt("No error detected.")}const r=rt("provider_token"),i=rt("provider_refresh_token"),n=rt("access_token");if(!n)throw new Tt("No access_token detected.");const s=rt("expires_in");if(!s)throw new Tt("No expires_in detected.");const o=rt("refresh_token");if(!o)throw new Tt("No refresh_token detected.");const a=rt("token_type");if(!a)throw new Tt("No token_type detected.");const l=Math.round(Date.now()/1e3)+parseInt(s),{data:h,error:p}=yield this.getUser(n);if(p)throw p;const _=h.user,v={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:parseInt(s),expires_at:l,refresh_token:o,token_type:a,user:_},y=rt("type");return window.location.hash="",{data:{session:v,redirectType:y},error:null}}catch(e){if(Y(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){return _r()&&(Boolean(rt("access_token"))||Boolean(rt("error_description")))}signOut(){var e;return B(this,void 0,void 0,function*(){const{data:r,error:i}=yield this.getSession();if(i)return{error:i};const n=(e=r.session)===null||e===void 0?void 0:e.access_token;if(n){const{error:s}=yield this.admin.signOut(n);if(s&&!(Uh(s)&&(s.status===404||s.status===401)))return{error:s}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){const r=Dh(),i={id:r,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(r)}};return this.stateChangeEmitters.set(r,i),{data:{subscription:i}}}resetPasswordForEmail(e,r={}){return B(this,void 0,void 0,function*(){try{return yield Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}})}_refreshAccessToken(e){return B(this,void 0,void 0,function*(){try{const r=Date.now();return yield Lh(i=>B(this,void 0,void 0,function*(){return yield Fh(i*200),yield Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pr})}),(i,n,s)=>s&&s.error&&s.error instanceof Ks&&Date.now()+(i+1)*200-r<As)}catch(r){if(Y(r))return{data:{session:null,user:null},error:r};throw r}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r={}){const i=this._getUrlForProvider(e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return _r()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}_recoverAndRefresh(){var e;return B(this,void 0,void 0,function*(){try{const r=yield za(this.storage,this.storageKey);if(!this._isValidSession(r)){r!==null&&(yield this._removeSession());return}const i=Math.round(Date.now()/1e3);if(((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+ed)if(this.autoRefreshToken&&r.refresh_token){const{error:n}=yield this._callRefreshToken(r.refresh_token);n&&(console.log(n.message),yield this._removeSession())}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(r)),this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){console.error(r);return}})}_callRefreshToken(e){var r,i;return B(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new Pn,!e)throw new mi;const{data:n,error:s}=yield this._refreshAccessToken(e);if(s)throw s;if(!n.session)throw new mi;yield this._saveSession(n.session),this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const o={session:n.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(n){if(Y(n)){const s={session:null,error:n};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(n),n}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,r,i=!0){this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r}),this.stateChangeEmitters.forEach(n=>n.callback(e,r))}_saveSession(e){return B(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e),this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return Ph(this.storage,this.storageKey,e)}_removeSession(){return B(this,void 0,void 0,function*(){this.persistSession?yield Ih(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_r()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return B(this,void 0,void 0,function*(){yield this._stopAutoRefresh();const e=setInterval(()=>this._autoRefreshTokenTick(),As);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"&&e.unref(),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return B(this,void 0,void 0,function*(){const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return B(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return B(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return B(this,void 0,void 0,function*(){const e=Date.now();try{const{data:{session:r}}=yield this.getSession();if(!r||!r.refresh_token||!r.expires_at)return;Math.floor((r.expires_at*1e3-e)/As)<nd&&(yield this._callRefreshToken(r.refresh_token))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}})}_handleVisibilityChange(){return B(this,void 0,void 0,function*(){if(!_r()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>B(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return B(this,void 0,void 0,function*(){document.visibilityState==="visible"?(e||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r){const i=[`provider=${encodeURIComponent(e)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),r?.queryParams){const n=new URLSearchParams(r.queryParams);i.push(n.toString())}return`${this.url}/authorize?${i.join("&")}`}_unenroll(e){var r;return B(this,void 0,void 0,function*(){try{const{data:i,error:n}=yield this.getSession();return n?{data:null,error:n}:yield Z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})}catch(i){if(Y(i))return{data:null,error:i};throw i}})}_enroll(e){var r,i;return B(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();if(s)return{data:null,error:s};const{data:o,error:a}=yield Z(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(!((i=o?.totp)===null||i===void 0)&&i.qr_code&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}catch(n){if(Y(n))return{data:null,error:n};throw n}})}_verify(e){var r;return B(this,void 0,void 0,function*(){try{const{data:i,error:n}=yield this.getSession();if(n)return{data:null,error:n};const{data:s,error:o}=yield Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})}catch(i){if(Y(i))return{data:null,error:i};throw i}})}_challenge(e){var r;return B(this,void 0,void 0,function*(){try{const{data:i,error:n}=yield this.getSession();return n?{data:null,error:n}:yield Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})}catch(i){if(Y(i))return{data:null,error:i};throw i}})}_challengeAndVerify(e){return B(this,void 0,void 0,function*(){const{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return B(this,void 0,void 0,function*(){const{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};const i=e?.factors||[],n=i.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:i,totp:n},error:null}})}_getAuthenticatorAssuranceLevel(){var e,r;return B(this,void 0,void 0,function*(){const{data:{session:i},error:n}=yield this.getSession();if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(i.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const l=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:l},error:null}})}}class od extends sd{constructor(e){super(e)}}var ad=globalThis&&globalThis.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(i.next(h))}catch(p){o(p)}}function u(h){try{l(i.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):n(h.value).then(a,u)}l((i=i.apply(t,e||[])).next())})};const cd={headers:xh},ud={schema:"public"},ld={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},fd={};class hd{constructor(e,r,i){var n,s,o,a,u,l,h,p;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const _=Ah(e);if(this.realtimeUrl=`${_}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${_}/auth/v1`,this.storageUrl=`${_}/storage/v1`,_.match(/(supabase\.co)|(supabase\.in)/)){const D=_.split(".");this.functionsUrl=`${D[0]}.functions.${D[1]}.${D[2]}`}else this.functionsUrl=`${_}/functions/v1`;const y=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,x={db:ud,realtime:fd,auth:Object.assign(Object.assign({},ld),{storageKey:y}),global:cd},E=$h(i??{},x);this.storageKey=(s=(n=E.auth)===null||n===void 0?void 0:n.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=E.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((u=E.auth)!==null&&u!==void 0?u:{},this.headers,(l=E.global)===null||l===void 0?void 0:l.fetch),this.fetch=Oh(r,this._getAccessToken.bind(this),(h=E.global)===null||h===void 0?void 0:h.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},E.realtime)),this.rest=new Tf(`${_}/rest/v1`,{headers:this.headers,schema:(p=E.db)===null||p===void 0?void 0:p.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new yf(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wh(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,r={},i){return this.rest.rpc(e,r,i)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return ad(this,void 0,void 0,function*(){const{data:i}=yield this.auth.getSession();return(r=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:n,storageKey:s},o,a){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new od({url:this.authUrl,headers:Object.assign(Object.assign({},u),o),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:n,fetch:a})}_initRealtimeClient(e){return new ch(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,i?.access_token,"CLIENT")})}_handleTokenChanged(e,r,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dd=(t,e,r)=>new hd(t,e,r),jc={}.PUBLIC_SUPABASE_TOKEN,Fc="",Lc=Boolean(jc&&Fc)&&localStorage.getItem("supabaseStatus")==="active";class ki{static thisInstance;localClient;constructor(e){this.localClient=Lc?dd(Fc,jc,e):void 0}static defaultInstance(){return ki.thisInstance??=new ki,ki.thisInstance}sendFormContact(e){if(localStorage.getItem("alreadySended")!=="true")return this.localClient?.from("interested").insert(e).then(({error:r})=>{if(!r)return localStorage.setItem("alredySended","true"),e},r=>r)}}const pd=ki.defaultInstance;function _d(t){if(t instanceof ze)return t.inner.map(({path:e})=>e)}async function gd(t){try{const e=lf.validateSync(t,{abortEarly:!1});pd().sendFormContact(e)}catch(e){const r=_d(e);return console.error(e,r),r}}function vd(t){t instanceof HTMLElement&&t.click()}Xe('[data-form="contact"]')?.addEventListener("submit",async function(t){if(t.preventDefault(),!(this instanceof HTMLFormElement))return;const e=new FormData(this),r={};e.forEach((n,s)=>{r[s]=n});const i=await gd(r);if(i?.length)return i.forEach(n=>{const s=Xe(`[name="${n}"`,this);s instanceof HTMLInputElement&&s.classList.add("border-error")});lc("input",this).forEach(n=>n.classList.remove("border-error")),vd(Xe('label[for="subscription"]'))});Xe("#dev-dismiss")?.addEventListener("click",()=>{Xe(".toast.alert")?.classList.toggle("hidden")});var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});var fn=window,Jt=fn.requestAnimationFrame||fn.webkitRequestAnimationFrame||fn.mozRequestAnimationFrame||fn.msRequestAnimationFrame||function(t){return setTimeout(t,16)},Ka=window,$s=Ka.cancelAnimationFrame||Ka.mozCancelAnimationFrame||function(t){clearTimeout(t)};function Cs(){for(var t,e,r,i=arguments[0]||{},n=1,s=arguments.length;n<s;n++)if((t=arguments[n])!==null)for(e in t)r=t[e],i!==r&&r!==void 0&&(i[e]=r);return i}function st(t){return["true","false"].indexOf(t)>=0?JSON.parse(t):t}function ot(t,e,r,i){if(i)try{t.setItem(e,r)}catch{}return r}function md(){var t=window.tnsId;return window.tnsId=t?t+1:1,"tns"+window.tnsId}function jn(){var t=document,e=t.body;return e||(e=t.createElement("body"),e.fake=!0),e}var Si=document.documentElement;function Fn(t){var e="";return t.fake&&(e=Si.style.overflow,t.style.background="",t.style.overflow=Si.style.overflow="hidden",Si.appendChild(t)),e}function Ln(t,e){t.fake&&(t.remove(),Si.style.overflow=e,Si.offsetHeight)}function yd(){var t=document,e=jn(),r=Fn(e),i=t.createElement("div"),n=!1;e.appendChild(i);try{for(var s="(10px * 10)",o=["calc"+s,"-moz-calc"+s,"-webkit-calc"+s],a,u=0;u<3;u++)if(a=o[u],i.style.width=a,i.offsetWidth===100){n=a.replace(s,"");break}}catch{}return e.fake?Ln(e,r):i.remove(),n}function bd(){var t=document,e=jn(),r=Fn(e),i=t.createElement("div"),n=t.createElement("div"),s="",o=70,a=3,u=!1;i.className="tns-t-subp2",n.className="tns-t-ct";for(var l=0;l<o;l++)s+="<div></div>";return n.innerHTML=s,i.appendChild(n),e.appendChild(i),u=Math.abs(i.getBoundingClientRect().left-n.children[o-a].getBoundingClientRect().left)<2,e.fake?Ln(e,r):i.remove(),u}function wd(){if(window.matchMedia||window.msMatchMedia)return!0;var t=document,e=jn(),r=Fn(e),i=t.createElement("div"),n=t.createElement("style"),s="@media all and (min-width:1px){.tns-mq-test{position:absolute}}",o;return n.type="text/css",i.className="tns-mq-test",e.appendChild(n),e.appendChild(i),n.styleSheet?n.styleSheet.cssText=s:n.appendChild(t.createTextNode(s)),o=window.getComputedStyle?window.getComputedStyle(i).position:i.currentStyle.position,e.fake?Ln(e,r):i.remove(),o==="absolute"}function Ed(t,e){var r=document.createElement("style");return t&&r.setAttribute("media",t),e&&r.setAttribute("nonce",e),document.querySelector("head").appendChild(r),r.sheet?r.sheet:r.styleSheet}function Ot(t,e,r,i){"insertRule"in t?t.insertRule(e+"{"+r+"}",i):t.addRule(e,r,i)}function xd(t,e){"deleteRule"in t?t.deleteRule(e):t.removeRule(e)}function yt(t){var e="insertRule"in t?t.cssRules:t.rules;return e.length}function kd(t,e){return Math.atan2(t,e)*(180/Math.PI)}function Sd(t,e){var r=!1,i=Math.abs(90-Math.abs(t));return i>=90-e?r="horizontal":i<=e&&(r="vertical"),r}function Wt(t,e,r){for(var i=0,n=t.length;i<n;i++)e.call(r,t[i],i)}var yo="classList"in document.createElement("_"),Kr=yo?function(t,e){return t.classList.contains(e)}:function(t,e){return t.className.indexOf(e)>=0},_e=yo?function(t,e){Kr(t,e)||t.classList.add(e)}:function(t,e){Kr(t,e)||(t.className+=" "+e)},qe=yo?function(t,e){Kr(t,e)&&t.classList.remove(e)}:function(t,e){Kr(t,e)&&(t.className=t.className.replace(e,""))};function yi(t,e){return t.hasAttribute(e)}function hn(t,e){return t.getAttribute(e)}function Uc(t){return typeof t.item<"u"}function We(t,e){if(t=Uc(t)||t instanceof Array?t:[t],Object.prototype.toString.call(e)==="[object Object]")for(var r=t.length;r--;)for(var i in e)t[r].setAttribute(i,e[i])}function Gt(t,e){t=Uc(t)||t instanceof Array?t:[t],e=e instanceof Array?e:[e];for(var r=e.length,i=t.length;i--;)for(var n=r;n--;)t[i].removeAttribute(e[n])}function Ja(t){for(var e=[],r=0,i=t.length;r<i;r++)e.push(t[r]);return e}function Ge(t,e){t.style.display!=="none"&&(t.style.display="none")}function Ve(t,e){t.style.display==="none"&&(t.style.display="")}function Wa(t){return window.getComputedStyle(t).display!=="none"}function bi(t){if(typeof t=="string"){var e=[t],r=t.charAt(0).toUpperCase()+t.substr(1),i=["Webkit","Moz","ms","O"];i.forEach(function(a){(a!=="ms"||t==="transform")&&e.push(a+r)}),t=e}var n=document.createElement("fakeelement");t.length;for(var s=0;s<t.length;s++){var o=t[s];if(n.style[o]!==void 0)return o}return!1}function Td(t){if(!t||!window.getComputedStyle)return!1;var e=document,r=jn(),i=Fn(r),n=e.createElement("p"),s,o=t.length>9?"-"+t.slice(0,-9).toLowerCase()+"-":"";return o+="transform",r.insertBefore(n,null),n.style[t]="translate3d(1px,1px,1px)",s=window.getComputedStyle(n).getPropertyValue(o),r.fake?Ln(r,i):n.remove(),s!==void 0&&s.length>0&&s!=="none"}function Ga(t,e){var r=!1;return/^Webkit/.test(t)?r="webkit"+e+"End":/^O/.test(t)?r="o"+e+"End":t&&(r=e.toLowerCase()+"end"),r}var Mc=!1;try{var Od=Object.defineProperty({},"passive",{get:function(){Mc=!0}});window.addEventListener("test",null,Od)}catch{}var qc=Mc?{passive:!0}:!1;function pe(t,e,r){for(var i in e){var n=["touchstart","touchmove"].indexOf(i)>=0&&!r?qc:!1;t.addEventListener(i,e[i],n)}}function Te(t,e){for(var r in e){var i=["touchstart","touchmove"].indexOf(r)>=0?qc:!1;t.removeEventListener(r,e[r],i)}}function Ad(){return{topics:{},on:function(t,e){this.topics[t]=this.topics[t]||[],this.topics[t].push(e)},off:function(t,e){if(this.topics[t]){for(var r=0;r<this.topics[t].length;r++)if(this.topics[t][r]===e){this.topics[t].splice(r,1);break}}},emit:function(t,e){e.type=t,this.topics[t]&&this.topics[t].forEach(function(r){r(e,t)})}}}function $d(t,e,r,i,l,s,o){var a=Math.min(s,10),u=l.indexOf("%")>=0?"%":"px",l=l.replace(u,""),h=Number(t.style[e].replace(r,"").replace(i,"").replace(u,"")),p=(l-h)/s*a;setTimeout(_,a);function _(){s-=a,h+=p,t.style[e]=r+h+u+i,s>0?setTimeout(_,a):o()}}Object.keys||(Object.keys=function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e});"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var Bc=function(t){t=Cs({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},t||{});var e=document,r=window,i={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},n={},s=t.useLocalStorage;if(s){var o=navigator.userAgent,a=new Date;try{n=r.localStorage,n?(n.setItem(a,a),s=n.getItem(a)==a,n.removeItem(a)):s=!1,s||(n={})}catch{s=!1}s&&(n.tnsApp&&n.tnsApp!==o&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(c){n.removeItem(c)}),localStorage.tnsApp=o)}var u=n.tC?st(n.tC):ot(n,"tC",yd(),s),l=n.tPL?st(n.tPL):ot(n,"tPL",bd(),s),h=n.tMQ?st(n.tMQ):ot(n,"tMQ",wd(),s),p=n.tTf?st(n.tTf):ot(n,"tTf",bi("transform"),s),_=n.t3D?st(n.t3D):ot(n,"t3D",Td(p),s),v=n.tTDu?st(n.tTDu):ot(n,"tTDu",bi("transitionDuration"),s),y=n.tTDe?st(n.tTDe):ot(n,"tTDe",bi("transitionDelay"),s),x=n.tADu?st(n.tADu):ot(n,"tADu",bi("animationDuration"),s),E=n.tADe?st(n.tADe):ot(n,"tADe",bi("animationDelay"),s),D=n.tTE?st(n.tTE):ot(n,"tTE",Ga(v,"Transition"),s),U=n.tAE?st(n.tAE):ot(n,"tAE",Ga(x,"Animation"),s),re=r.console&&typeof r.console.warn=="function",J=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],de={};if(J.forEach(function(c){if(typeof t[c]=="string"){var d=t[c],g=e.querySelector(d);if(de[c]=d,g&&g.nodeName)t[c]=g;else{re&&console.warn("Can't find",t[c]);return}}}),t.container.children.length<1){re&&console.warn("No slides found in",t.container);return}var W=t.responsive,we=t.nested,S=t.mode==="carousel";if(W){0 in W&&(t=Cs(t,W[0]),delete W[0]);var ue={};for(var ie in W){var le=W[ie];le=typeof le=="number"?{items:le}:le,ue[ie]=le}W=ue,ue=null}function ir(c){for(var d in c)S||(d==="slideBy"&&(c[d]="page"),d==="edgePadding"&&(c[d]=!1),d==="autoHeight"&&(c[d]=!1)),d==="responsive"&&ir(c[d])}if(S||ir(t),!S){t.axis="horizontal",t.slideBy="page",t.edgePadding=!1;var Le=t.animateIn,b=t.animateOut,k=t.animateDelay,I=t.animateNormal}var j=t.axis==="horizontal",z=e.createElement("div"),L=e.createElement("div"),Ee,A=t.container,nr=A.parentNode,bo=A.outerHTML,G=A.children,R=G.length,Gr,Ii=Ro(),Vr=!1;W&&Ho(),S&&(A.className+=" tns-vpfix");var F=t.autoWidth,$=P("fixedWidth"),fe=P("edgePadding"),H=P("gutter"),xe=Io(),Oe=P("center"),q=F?1:Math.floor(P("items")),Sr=P("slideBy"),Un=t.viewportMax||t.fixedWidthViewportWidth,It=P("arrowKeys"),Qe=P("speed"),Yr=t.rewind,Ae=Yr?!1:t.loop,Ne=P("autoHeight"),ht=P("controls"),jt=P("controlsText"),dt=P("nav"),Ft=P("touch"),Lt=P("mouseDrag"),Pe=P("autoplay"),Mn=P("autoplayTimeout"),Nt=P("autoplayText"),Ut=P("autoplayHoverPause"),Mt=P("autoplayResetOnVisibility"),X=Ed(null,P("nonce")),Xr=t.lazyload,Qc=t.lazyloadSelector,ge,Tr=[],$e=Ae?ru():0,V=S?R+$e*2:R+$e,wo=!!(($||F)&&!Ae),Or=$?ss():null,qn=!S||!Ae,sr=j?"left":"top",qt="",Ar="",Qr=function(){return $?function(){return Oe&&!Ae?R-1:Math.ceil(-Or/($+H))}:F?function(){for(var c=0;c<V;c++)if(ge[c]>=-Or)return c}:function(){return Oe&&S&&!Ae?R-1:Ae||S?Math.max(0,V-Math.ceil(q)):V-1}}(),T=Co(P("startIndex")),Bt=T;$o();var pt=0,He=F?null:Qr(),ji=t.preventActionWhenRunning,Fi=t.swipeAngle,_t=Fi?"?":!0,zt=!1,Bn=t.onInit,ke=new Ad,Ht=" tns-slider tns-"+t.mode,ce=A.id||md(),Ue=P("disable"),Zr=!1,Li=t.freezable,Ze=Li&&!F?Qn():!1,ei=!1,ti={click:Kt,keydown:ku},zn={click:vu,keydown:Su},ri={mouseover:wu,mouseout:Eu},ii={visibilitychange:bu},ni={keydown:xu},si={touchstart:ha,touchmove:da,touchend:cn,touchcancel:cn},oi={mousedown:ha,mousemove:da,mouseup:cn,mouseleave:cn},Ni=kt("controls"),Hn=kt("nav"),ai=F?!0:t.navAsThumbnails,Kn=kt("autoplay"),Eo=kt("touch"),xo=kt("mouseDrag"),Jn="tns-slide-active",ko="tns-slide-cloned",Ui="tns-complete",Mi={load:uu,error:lu},Wn,Gn,ci=t.preventScrollOnTouch==="force";if(Ni)var ve=t.controlsContainer,So=t.controlsContainer?t.controlsContainer.outerHTML:"",ne=t.prevButton,se=t.nextButton,Zc=t.prevButton?t.prevButton.outerHTML:"",eu=t.nextButton?t.nextButton.outerHTML:"",ui,li;if(Hn)var Ce=t.navContainer,To=t.navContainer?t.navContainer.outerHTML:"",Ke,et=F?R:_a(),or=0,ar=-1,Je=Do(),$r=Je,qi="tns-nav-active",Cr="Carousel Page ",Vn=" (Current Slide)";if(Kn)var Oo=t.autoplayDirection==="forward"?1:-1,he=t.autoplayButton,Ao=t.autoplayButton?t.autoplayButton.outerHTML:"",fi=["<span class='tns-visually-hidden'>"," animation</span>"],Bi,Me,zi,Dr,Hi;if(Eo||xo)var cr={},nt={},Ki,ur=!1,tt,Yn=j?function(c,d){return c.x-d.x}:function(c,d){return c.y-d.y};F||Ji(Ue||Ze),p&&(sr=p,qt="translate",_?(qt+=j?"3d(":"3d(0px, ",Ar=j?", 0px, 0px)":", 0px)"):(qt+=j?"X(":"Y(",Ar=")")),S&&(A.className=A.className.replace("tns-vpfix","")),nu(),su(),Lo();function Ji(c){c&&(ht=dt=Ft=Lt=It=Pe=Ut=Mt=!1)}function $o(){for(var c=S?T-$e:T;c<0;)c+=R;return c%R+1}function Co(c){return c=c?Math.max(0,Math.min(Ae?R-1:R-q,c)):0,S?c+$e:c}function Wi(c){for(c==null&&(c=T),S&&(c-=$e);c<0;)c+=R;return Math.floor(c%R)}function Do(){var c=Wi(),d;return d=ai?c:$||F?Math.ceil((c+1)*et/R-1):Math.floor(c/q),!Ae&&S&&T===He&&(d=et-1),d}function tu(){if(F||$&&!Un)return R-1;var c=$?"fixedWidth":"items",d=[];if(($||t[c]<R)&&d.push(t[c]),W)for(var g in W){var m=W[g][c];m&&($||m<R)&&d.push(m)}return d.length||d.push(0),Math.ceil($?Un/Math.min.apply(null,d):Math.max.apply(null,d))}function ru(){var c=tu(),d=S?Math.ceil((c*5-R)/2):c*4-R;return d=Math.max(c,d),kt("edgePadding")?d+1:d}function Ro(){return r.innerWidth||e.documentElement.clientWidth||e.body.clientWidth}function Xn(c){return c==="top"?"afterbegin":"beforeend"}function Po(c){if(c!=null){var d=e.createElement("div"),g,m;return c.appendChild(d),g=d.getBoundingClientRect(),m=g.right-g.left,d.remove(),m||Po(c.parentNode)}}function Io(){var c=fe?fe*2-H:0;return Po(nr)-c}function kt(c){if(t[c])return!0;if(W){for(var d in W)if(W[d][c])return!0}return!1}function P(c,d){if(d==null&&(d=Ii),c==="items"&&$)return Math.floor((xe+H)/($+H))||1;var g=t[c];if(W)for(var m in W)d>=parseInt(m)&&c in W[m]&&(g=W[m][c]);return c==="slideBy"&&g==="page"&&(g=P("items")),!S&&(c==="slideBy"||c==="items")&&(g=Math.floor(g)),g}function iu(c){return u?u+"("+c*100+"% / "+V+")":c*100/V+"%"}function Gi(c,d,g,m,O){var C="";if(c!==void 0){var K=c;d&&(K-=d),C=j?"margin: 0 "+K+"px 0 "+c+"px;":"margin: "+c+"px 0 "+K+"px 0;"}else if(d&&!g){var Se="-"+d+"px",De=j?Se+" 0 0":"0 "+Se+" 0";C="margin: 0 "+De+";"}return!S&&O&&v&&m&&(C+=lr(m)),C}function Vi(c,d,g){return c?(c+d)*V+"px":u?u+"("+V*100+"% / "+g+")":V*100/g+"%"}function Yi(c,d,g){var m;if(c)m=c+d+"px";else{S||(g=Math.floor(g));var O=S?V:g;m=u?u+"(100% / "+O+")":100/O+"%"}return m="width:"+m,we!=="inner"?m+";":m+" !important;"}function Xi(c){var d="";if(c!==!1){var g=j?"padding-":"margin-",m=j?"right":"bottom";d=g+m+": "+c+"px;"}return d}function jo(c,d){var g=c.substring(0,c.length-d).toLowerCase();return g&&(g="-"+g+"-"),g}function lr(c){return jo(v,18)+"transition-duration:"+c/1e3+"s;"}function Fo(c){return jo(x,17)+"animation-duration:"+c/1e3+"s;"}function nu(){var c="tns-outer",d="tns-inner";if(kt("gutter"),z.className=c,L.className=d,z.id=ce+"-ow",L.id=ce+"-iw",A.id===""&&(A.id=ce),Ht+=l||F?" tns-subpixel":" tns-no-subpixel",Ht+=u?" tns-calc":" tns-no-calc",F&&(Ht+=" tns-autowidth"),Ht+=" tns-"+t.axis,A.className+=Ht,S?(Ee=e.createElement("div"),Ee.id=ce+"-mw",Ee.className="tns-ovh",z.appendChild(Ee),Ee.appendChild(L)):z.appendChild(L),Ne){var g=Ee||L;g.className+=" tns-ah"}if(nr.insertBefore(z,A),L.appendChild(A),Wt(G,function(me,Pr){_e(me,"tns-item"),me.id||(me.id=ce+"-item"+Pr),!S&&I&&_e(me,I),We(me,{"aria-hidden":"true",tabindex:"-1"})}),$e){for(var m=e.createDocumentFragment(),O=e.createDocumentFragment(),C=$e;C--;){var K=C%R,Se=G[K].cloneNode(!0);if(_e(Se,ko),Gt(Se,"id"),O.insertBefore(Se,O.firstChild),S){var De=G[R-1-K].cloneNode(!0);_e(De,ko),Gt(De,"id"),m.appendChild(De)}}A.insertBefore(m,A.firstChild),A.appendChild(O),G=A.children}}function Lo(){if(kt("autoHeight")||F||!j){var c=A.querySelectorAll("img");Wt(c,function(d){var g=d.src;Xr||(g&&g.indexOf("data:image")<0?(d.src="",pe(d,Mi),_e(d,"loading"),d.src=g):Yo(d))}),Jt(function(){en(Ja(c),function(){Wn=!0})}),kt("autoHeight")&&(c=is(T,Math.min(T+q-1,V-1))),Xr?No():Jt(function(){en(Ja(c),No)})}else S&&di(),Mo(),qo()}function No(){if(F&&R>1){var c=Ae?T:R-1;(function d(){var g=G[c].getBoundingClientRect().left,m=G[c-1].getBoundingClientRect().right;Math.abs(g-m)<=1?Uo():setTimeout(function(){d()},16)})()}else Uo()}function Uo(){(!j||F)&&(ea(),F?(Or=ss(),Li&&(Ze=Qn()),He=Qr(),Ji(Ue||Ze)):cs()),S&&di(),Mo(),qo()}function su(){if(!S)for(var c=T,d=T+Math.min(R,q);c<d;c++){var g=G[c];g.style.left=(c-T)*100/q+"%",_e(g,Le),qe(g,I)}if(j&&(l||F?(Ot(X,"#"+ce+" > .tns-item","font-size:"+r.getComputedStyle(G[0]).fontSize+";",yt(X)),Ot(X,"#"+ce,"font-size:0;",yt(X))):S&&Wt(G,function(hs,ds){hs.style.marginLeft=iu(ds)})),h){if(v){var m=Ee&&t.autoHeight?lr(t.speed):"";Ot(X,"#"+ce+"-mw",m,yt(X))}m=Gi(t.edgePadding,t.gutter,t.fixedWidth,t.speed,t.autoHeight),Ot(X,"#"+ce+"-iw",m,yt(X)),S&&(m=j&&!F?"width:"+Vi(t.fixedWidth,t.gutter,t.items)+";":"",v&&(m+=lr(Qe)),Ot(X,"#"+ce,m,yt(X))),m=j&&!F?Yi(t.fixedWidth,t.gutter,t.items):"",t.gutter&&(m+=Xi(t.gutter)),S||(v&&(m+=lr(Qe)),x&&(m+=Fo(Qe))),m&&Ot(X,"#"+ce+" > .tns-item",m,yt(X))}else{hu(),L.style.cssText=Gi(fe,H,$,Ne),S&&j&&!F&&(A.style.width=Vi($,H,q));var m=j&&!F?Yi($,H,q):"";H&&(m+=Xi(H)),m&&Ot(X,"#"+ce+" > .tns-item",m,yt(X))}if(W&&h)for(var O in W){O=parseInt(O);var C=W[O],m="",K="",Se="",De="",me="",Pr=F?null:P("items",O),gi=P("fixedWidth",O),hr=P("speed",O),ls=P("edgePadding",O),fs=P("autoHeight",O),Ir=P("gutter",O);v&&Ee&&P("autoHeight",O)&&"speed"in C&&(K="#"+ce+"-mw{"+lr(hr)+"}"),("edgePadding"in C||"gutter"in C)&&(Se="#"+ce+"-iw{"+Gi(ls,Ir,gi,hr,fs)+"}"),S&&j&&!F&&("fixedWidth"in C||"items"in C||$&&"gutter"in C)&&(De="width:"+Vi(gi,Ir,Pr)+";"),v&&"speed"in C&&(De+=lr(hr)),De&&(De="#"+ce+"{"+De+"}"),("fixedWidth"in C||$&&"gutter"in C||!S&&"items"in C)&&(me+=Yi(gi,Ir,Pr)),"gutter"in C&&(me+=Xi(Ir)),!S&&"speed"in C&&(v&&(me+=lr(hr)),x&&(me+=Fo(hr))),me&&(me="#"+ce+" > .tns-item{"+me+"}"),m=K+Se+De+me,m&&X.insertRule("@media (min-width: "+O/16+"em) {"+m+"}",X.cssRules.length)}}function Mo(){if(ns(),z.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+Vo()+"</span>  of "+R+"</div>"),Gn=z.querySelector(".tns-liveregion .current"),Kn){var c=Pe?"stop":"start";he?We(he,{"data-action":c}):t.autoplayButtonOutput&&(z.insertAdjacentHTML(Xn(t.autoplayPosition),'<button type="button" data-action="'+c+'">'+fi[0]+c+fi[1]+Nt[0]+"</button>"),he=z.querySelector("[data-action]")),he&&pe(he,{click:ca}),Pe&&(an(),Ut&&pe(A,ri),Mt&&pe(A,ii))}if(Hn){if(Ce)We(Ce,{"aria-label":"Carousel Pagination"}),Ke=Ce.children,Wt(Ke,function(K,Se){We(K,{"data-nav":Se,tabindex:"-1","aria-label":Cr+(Se+1),"aria-controls":ce})});else{for(var d="",g=ai?"":'style="display:none"',m=0;m<R;m++)d+='<button type="button" data-nav="'+m+'" tabindex="-1" aria-controls="'+ce+'" '+g+' aria-label="'+Cr+(m+1)+'"></button>';d='<div class="tns-nav" aria-label="Carousel Pagination">'+d+"</div>",z.insertAdjacentHTML(Xn(t.navPosition),d),Ce=z.querySelector(".tns-nav"),Ke=Ce.children}if(us(),v){var O=v.substring(0,v.length-18).toLowerCase(),C="transition: all "+Qe/1e3+"s";O&&(C="-"+O+"-"+C),Ot(X,"[aria-controls^="+ce+"-item]",C,yt(X))}We(Ke[Je],{"aria-label":Cr+(Je+1)+Vn}),Gt(Ke[Je],"tabindex"),_e(Ke[Je],qi),pe(Ce,zn)}Ni&&(!ve&&(!ne||!se)&&(z.insertAdjacentHTML(Xn(t.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+ce+'">'+jt[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+ce+'">'+jt[1]+"</button></div>"),ve=z.querySelector(".tns-controls")),(!ne||!se)&&(ne=ve.children[0],se=ve.children[1]),t.controlsContainer&&We(ve,{"aria-label":"Carousel Navigation",tabindex:"0"}),(t.controlsContainer||t.prevButton&&t.nextButton)&&We([ne,se],{"aria-controls":ce,tabindex:"-1"}),(t.controlsContainer||t.prevButton&&t.nextButton)&&(We(ne,{"data-controls":"prev"}),We(se,{"data-controls":"next"})),ui=ra(ne),li=ra(se),na(),ve?pe(ve,ti):(pe(ne,ti),pe(se,ti))),es()}function qo(){if(S&&D){var c={};c[D]=gt,pe(A,c)}Ft&&pe(A,si,t.preventScrollOnTouch),Lt&&pe(A,oi),It&&pe(e,ni),we==="inner"?ke.on("outerResized",function(){zo(),ke.emit("innerLoaded",Ie())}):(W||$||F||Ne||!j)&&pe(r,{resize:Bo}),Ne&&(we==="outer"?ke.on("innerLoaded",Zi):Ue||Zi()),ts(),Ue?Wo():Ze&&Jo(),ke.on("indexChanged",Xo),we==="inner"&&ke.emit("innerLoaded",Ie()),typeof Bn=="function"&&Bn(Ie()),Vr=!0}function ou(){if(X.disabled=!0,X.ownerNode&&X.ownerNode.remove(),Te(r,{resize:Bo}),It&&Te(e,ni),ve&&Te(ve,ti),Ce&&Te(Ce,zn),Te(A,ri),Te(A,ii),he&&Te(he,{click:ca}),Pe&&clearInterval(Bi),S&&D){var c={};c[D]=gt,Te(A,c)}Ft&&Te(A,si),Lt&&Te(A,oi);var d=[bo,So,Zc,eu,To,Ao];J.forEach(function(m,O){var C=m==="container"?z:t[m];if(typeof C=="object"&&C){var K=C.previousElementSibling?C.previousElementSibling:!1,Se=C.parentNode;C.outerHTML=d[O],t[m]=K?K.nextElementSibling:Se.firstElementChild}}),J=Le=b=k=I=j=z=L=A=nr=bo=G=R=Gr=Ii=F=$=fe=H=xe=q=Sr=Un=It=Qe=Yr=Ae=Ne=X=Xr=ge=Tr=$e=V=wo=Or=qn=sr=qt=Ar=Qr=T=Bt=pt=He=Fi=_t=zt=Bn=ke=Ht=ce=Ue=Zr=Li=Ze=ei=ti=zn=ri=ii=ni=si=oi=Ni=Hn=ai=Kn=Eo=xo=Jn=Ui=Mi=Wn=ht=jt=ve=So=ne=se=ui=li=dt=Ce=To=Ke=et=or=ar=Je=$r=qi=Cr=Vn=Pe=Mn=Oo=Nt=Ut=he=Ao=Mt=fi=Bi=Me=zi=Dr=Hi=cr=nt=Ki=ur=tt=Yn=Ft=Lt=null;for(var g in this)g!=="rebuild"&&(this[g]=null);Vr=!1}function Bo(c){Jt(function(){zo(St(c))})}function zo(c){if(Vr){we==="outer"&&ke.emit("outerResized",Ie(c)),Ii=Ro();var d,g=Gr,m=!1;W&&(Ho(),d=g!==Gr,d&&ke.emit("newBreakpointStart",Ie(c)));var O,C,K=q,Se=Ue,De=Ze,me=It,Pr=ht,gi=dt,hr=Ft,ls=Lt,fs=Pe,Ir=Ut,hs=Mt,ds=T;if(d){var Tu=$,Ou=Ne,Au=jt,$u=Oe,ps=Nt;if(!h)var Cu=H,Du=fe}if(It=P("arrowKeys"),ht=P("controls"),dt=P("nav"),Ft=P("touch"),Oe=P("center"),Lt=P("mouseDrag"),Pe=P("autoplay"),Ut=P("autoplayHoverPause"),Mt=P("autoplayResetOnVisibility"),d&&(Ue=P("disable"),$=P("fixedWidth"),Qe=P("speed"),Ne=P("autoHeight"),jt=P("controlsText"),Nt=P("autoplayText"),Mn=P("autoplayTimeout"),h||(fe=P("edgePadding"),H=P("gutter"))),Ji(Ue),xe=Io(),(!j||F)&&!Ue&&(ea(),j||(cs(),m=!0)),($||F)&&(Or=ss(),He=Qr()),(d||$)&&(q=P("items"),Sr=P("slideBy"),C=q!==K,C&&(!$&&!F&&(He=Qr()),Zn())),d&&Ue!==Se&&(Ue?Wo():cu()),Li&&(d||$||F)&&(Ze=Qn(),Ze!==De&&(Ze?(os(nn(Co(0))),Jo()):(au(),m=!0))),Ji(Ue||Ze),Pe||(Ut=Mt=!1),It!==me&&(It?pe(e,ni):Te(e,ni)),ht!==Pr&&(ht?ve?Ve(ve):(ne&&Ve(ne),se&&Ve(se)):ve?Ge(ve):(ne&&Ge(ne),se&&Ge(se))),dt!==gi&&(dt?(Ve(Ce),us()):Ge(Ce)),Ft!==hr&&(Ft?pe(A,si,t.preventScrollOnTouch):Te(A,si)),Lt!==ls&&(Lt?pe(A,oi):Te(A,oi)),Pe!==fs&&(Pe?(he&&Ve(he),!Me&&!Dr&&an()):(he&&Ge(he),Me&&_i())),Ut!==Ir&&(Ut?pe(A,ri):Te(A,ri)),Mt!==hs&&(Mt?pe(e,ii):Te(e,ii)),d){if(($!==Tu||Oe!==$u)&&(m=!0),Ne!==Ou&&(Ne||(L.style.height="")),ht&&jt!==Au&&(ne.innerHTML=jt[0],se.innerHTML=jt[1]),he&&Nt!==ps){var _s=Pe?1:0,gs=he.innerHTML,ga=gs.length-ps[_s].length;gs.substring(ga)===ps[_s]&&(he.innerHTML=gs.substring(0,ga)+Nt[_s])}}else Oe&&($||F)&&(m=!0);if((C||$&&!F)&&(et=_a(),us()),O=T!==ds,O?(ke.emit("indexChanged",Ie()),m=!0):C?O||Xo():($||F)&&(ts(),ns(),Go()),C&&!S&&du(),!Ue&&!Ze){if(d&&!h&&((fe!==Du||H!==Cu)&&(L.style.cssText=Gi(fe,H,$,Qe,Ne)),j)){S&&(A.style.width=Vi($,H,q));var Ru=Yi($,H,q)+Xi(H);xd(X,yt(X)-1),Ot(X,"#"+ce+" > .tns-item",Ru,yt(X))}Ne&&Zi(),m&&(di(),Bt=T)}d&&ke.emit("newBreakpointEnd",Ie(c))}}function Qn(){if(!$&&!F){var c=Oe?q-(q-1)/2:q;return R<=c}var d=$?($+H)*R:ge[R],g=fe?xe+fe*2:xe+H;return Oe&&(g-=$?(xe-$)/2:(xe-(ge[T+1]-ge[T]-H))/2),d<=g}function Ho(){Gr=0;for(var c in W)c=parseInt(c),Ii>=c&&(Gr=c)}var Zn=function(){return Ae?S?function(){var c=pt,d=He;c+=Sr,d-=Sr,fe?(c+=1,d-=1):$&&(xe+H)%($+H)&&(d-=1),$e&&(T>d?T-=R:T<c&&(T+=R))}:function(){if(T>He)for(;T>=pt+R;)T-=R;else if(T<pt)for(;T<=He-R;)T+=R}:function(){T=Math.max(pt,Math.min(He,T))}}();function es(){!Pe&&he&&Ge(he),!dt&&Ce&&Ge(Ce),ht||(ve?Ge(ve):(ne&&Ge(ne),se&&Ge(se)))}function Ko(){Pe&&he&&Ve(he),dt&&Ce&&Ve(Ce),ht&&(ve?Ve(ve):(ne&&Ve(ne),se&&Ve(se)))}function Jo(){if(!ei){if(fe&&(L.style.margin="0px"),$e)for(var c="tns-transparent",d=$e;d--;)S&&_e(G[d],c),_e(G[V-d-1],c);es(),ei=!0}}function au(){if(ei){if(fe&&h&&(L.style.margin=""),$e)for(var c="tns-transparent",d=$e;d--;)S&&qe(G[d],c),qe(G[V-d-1],c);Ko(),ei=!1}}function Wo(){if(!Zr){if(X.disabled=!0,A.className=A.className.replace(Ht.substring(1),""),Gt(A,["style"]),Ae)for(var c=$e;c--;)S&&Ge(G[c]),Ge(G[V-c-1]);if((!j||!S)&&Gt(L,["style"]),!S)for(var d=T,g=T+R;d<g;d++){var m=G[d];Gt(m,["style"]),qe(m,Le),qe(m,I)}es(),Zr=!0}}function cu(){if(Zr){if(X.disabled=!1,A.className+=Ht,di(),Ae)for(var c=$e;c--;)S&&Ve(G[c]),Ve(G[V-c-1]);if(!S)for(var d=T,g=T+R;d<g;d++){var m=G[d],O=d<T+q?Le:I;m.style.left=(d-T)*100/q+"%",_e(m,O)}Ko(),Zr=!1}}function Go(){var c=Vo();Gn.innerHTML!==c&&(Gn.innerHTML=c)}function Vo(){var c=Qi(),d=c[0]+1,g=c[1]+1;return d===g?d+"":d+" to "+g}function Qi(c){c==null&&(c=nn());var d=T,g,m,O;if(Oe||fe?(F||$)&&(m=-(parseFloat(c)+fe),O=m+xe+fe*2):F&&(m=ge[T],O=m+xe),F)ge.forEach(function(De,me){me<V&&((Oe||fe)&&De<=m+.5&&(d=me),O-De>=.5&&(g=me))});else{if($){var C=$+H;Oe||fe?(d=Math.floor(m/C),g=Math.ceil(O/C-1)):g=d+Math.ceil(xe/C)-1}else if(Oe||fe){var K=q-1;if(Oe?(d-=K/2,g=T+K/2):g=T+K,fe){var Se=fe*q/xe;d-=Se,g+=Se}d=Math.floor(d),g=Math.ceil(g)}else g=d+q-1;d=Math.max(d,0),g=Math.min(g,V-1)}return[d,g]}function ts(){if(Xr&&!Ue){var c=Qi();c.push(Qc),is.apply(null,c).forEach(function(d){if(!Kr(d,Ui)){var g={};g[D]=function(O){O.stopPropagation()},pe(d,g),pe(d,Mi),d.src=hn(d,"data-src");var m=hn(d,"data-srcset");m&&(d.srcset=m),_e(d,"loading")}})}}function uu(c){Yo(Rr(c))}function lu(c){fu(Rr(c))}function Yo(c){_e(c,"loaded"),rs(c)}function fu(c){_e(c,"failed"),rs(c)}function rs(c){_e(c,Ui),qe(c,"loading"),Te(c,Mi)}function is(c,d,g){var m=[];for(g||(g="img");c<=d;)Wt(G[c].querySelectorAll(g),function(O){m.push(O)}),c++;return m}function Zi(){var c=is.apply(null,Qi());Jt(function(){en(c,Zo)})}function en(c,d){if(Wn||(c.forEach(function(g,m){!Xr&&g.complete&&rs(g),Kr(g,Ui)&&c.splice(m,1)}),!c.length))return d();Jt(function(){en(c,d)})}function Xo(){ts(),ns(),Go(),na(),pu()}function hu(){S&&Ne&&(Ee.style[v]=Qe/1e3+"s")}function Qo(c,d){for(var g=[],m=c,O=Math.min(c+d,V);m<O;m++)g.push(G[m].offsetHeight);return Math.max.apply(null,g)}function Zo(){var c=Ne?Qo(T,q):Qo($e,R),d=Ee||L;d.style.height!==c&&(d.style.height=c+"px")}function ea(){ge=[0];var c=j?"left":"top",d=j?"right":"bottom",g=G[0].getBoundingClientRect()[c];Wt(G,function(m,O){O&&ge.push(m.getBoundingClientRect()[c]-g),O===V-1&&ge.push(m.getBoundingClientRect()[d]-g)})}function ns(){var c=Qi(),d=c[0],g=c[1];Wt(G,function(m,O){O>=d&&O<=g?yi(m,"aria-hidden")&&(Gt(m,["aria-hidden","tabindex"]),_e(m,Jn)):yi(m,"aria-hidden")||(We(m,{"aria-hidden":"true",tabindex:"-1"}),qe(m,Jn))})}function du(){for(var c=T+Math.min(R,q),d=V;d--;){var g=G[d];d>=T&&d<c?(_e(g,"tns-moving"),g.style.left=(d-T)*100/q+"%",_e(g,Le),qe(g,I)):g.style.left&&(g.style.left="",_e(g,I),qe(g,Le)),qe(g,b)}setTimeout(function(){Wt(G,function(m){qe(m,"tns-moving")})},300)}function pu(){if(dt&&(Je=ar>=0?ar:Do(),ar=-1,Je!==$r)){var c=Ke[$r],d=Ke[Je];We(c,{tabindex:"-1","aria-label":Cr+($r+1)}),qe(c,qi),We(d,{"aria-label":Cr+(Je+1)+Vn}),Gt(d,"tabindex"),_e(d,qi),$r=Je}}function ta(c){return c.nodeName.toLowerCase()}function ra(c){return ta(c)==="button"}function ia(c){return c.getAttribute("aria-disabled")==="true"}function tn(c,d,g){c?d.disabled=g:d.setAttribute("aria-disabled",g.toString())}function na(){if(!(!ht||Yr||Ae)){var c=ui?ne.disabled:ia(ne),d=li?se.disabled:ia(se),g=T<=pt,m=!Yr&&T>=He;g&&!c&&tn(ui,ne,!0),!g&&c&&tn(ui,ne,!1),m&&!d&&tn(li,se,!0),!m&&d&&tn(li,se,!1)}}function rn(c,d){v&&(c.style[v]=d)}function _u(){return $?($+H)*V:ge[V]}function hi(c){c==null&&(c=T);var d=fe?H:0;return F?(xe-d-(ge[c+1]-ge[c]-H))/2:$?(xe-$)/2:(q-1)/2}function ss(){var c=fe?H:0,d=xe+c-_u();return Oe&&!Ae&&(d=$?-($+H)*(V-1)-hi():hi(V-1)-ge[V-1]),d>0&&(d=0),d}function nn(c){c==null&&(c=T);var d;if(j&&!F)if($)d=-($+H)*c,Oe&&(d+=hi());else{var g=p?V:q;Oe&&(c-=hi()),d=-c*100/g}else d=-ge[c],Oe&&F&&(d+=hi());return wo&&(d=Math.max(d,Or)),d+=j&&!F&&!$?"%":"px",d}function di(c){rn(A,"0s"),os(c)}function os(c){c==null&&(c=nn()),A.style[sr]=qt+c+Ar}function sa(c,d,g,m){var O=c+q;Ae||(O=Math.min(O,V));for(var C=c;C<O;C++){var K=G[C];m||(K.style.left=(C-T)*100/q+"%"),k&&y&&(K.style[y]=K.style[E]=k*(C-c)/1e3+"s"),qe(K,d),_e(K,g),m&&Tr.push(K)}}var gu=function(){return S?function(){rn(A,""),v||!Qe?(os(),(!Qe||!Wa(A))&&gt()):$d(A,sr,qt,Ar,nn(),Qe,gt),j||cs()}:function(){Tr=[];var c={};c[D]=c[U]=gt,Te(G[Bt],c),pe(G[T],c),sa(Bt,Le,b,!0),sa(T,I,Le),(!D||!U||!Qe||!Wa(A))&&gt()}}();function as(c,d){qn&&Zn(),(T!==Bt||d)&&(ke.emit("indexChanged",Ie()),ke.emit("transitionStart",Ie()),Ne&&Zi(),Me&&c&&["click","keydown"].indexOf(c.type)>=0&&_i(),zt=!0,gu())}function oa(c){return c.toLowerCase().replace(/-/g,"")}function gt(c){if(S||zt){if(ke.emit("transitionEnd",Ie(c)),!S&&Tr.length>0)for(var d=0;d<Tr.length;d++){var g=Tr[d];g.style.left="",E&&y&&(g.style[E]="",g.style[y]=""),qe(g,b),_e(g,I)}if(!c||!S&&c.target.parentNode===A||c.target===A&&oa(c.propertyName)===oa(sr)){if(!qn){var m=T;Zn(),T!==m&&(ke.emit("indexChanged",Ie()),di())}we==="inner"&&ke.emit("innerLoaded",Ie()),zt=!1,Bt=T}}}function pi(c,d){if(!Ze)if(c==="prev")Kt(d,-1);else if(c==="next")Kt(d,1);else{if(zt){if(ji)return;gt()}var g=Wi(),m=0;if(c==="first"?m=-g:c==="last"?m=S?R-q-g:R-1-g:(typeof c!="number"&&(c=parseInt(c)),isNaN(c)||(d||(c=Math.max(0,Math.min(R-1,c))),m=c-g)),!S&&m&&Math.abs(m)<q){var O=m>0?1:-1;m+=T+m-R>=pt?R*O:R*2*O*-1}T+=m,S&&Ae&&(T<pt&&(T+=R),T>He&&(T-=R)),Wi(T)!==Wi(Bt)&&as(d)}}function Kt(c,d){if(zt){if(ji)return;gt()}var g;if(!d){c=St(c);for(var m=Rr(c);m!==ve&&[ne,se].indexOf(m)<0;)m=m.parentNode;var O=[ne,se].indexOf(m);O>=0&&(g=!0,d=O===0?-1:1)}if(Yr){if(T===pt&&d===-1){pi("last",c);return}else if(T===He&&d===1){pi("first",c);return}}d&&(T+=Sr*d,F&&(T=Math.floor(T)),as(g||c&&c.type==="keydown"?c:null))}function vu(c){if(zt){if(ji)return;gt()}c=St(c);for(var d=Rr(c),g;d!==Ce&&!yi(d,"data-nav");)d=d.parentNode;if(yi(d,"data-nav")){var g=ar=Number(hn(d,"data-nav")),m=$||F?g*R/et:g*q,O=ai?g:Math.min(Math.ceil(m),R-1);pi(O,c),Je===g&&(Me&&_i(),ar=-1)}}function sn(){Bi=setInterval(function(){Kt(null,Oo)},Mn),Me=!0}function on(){clearInterval(Bi),Me=!1}function aa(c,d){We(he,{"data-action":c}),he.innerHTML=fi[0]+c+fi[1]+d}function an(){sn(),he&&aa("stop",Nt[1])}function _i(){on(),he&&aa("start",Nt[0])}function mu(){Pe&&!Me&&(an(),Dr=!1)}function yu(){Me&&(_i(),Dr=!0)}function ca(){Me?(_i(),Dr=!0):(an(),Dr=!1)}function bu(){e.hidden?Me&&(on(),Hi=!0):Hi&&(sn(),Hi=!1)}function wu(){Me&&(on(),zi=!0)}function Eu(){zi&&(sn(),zi=!1)}function xu(c){c=St(c);var d=[i.LEFT,i.RIGHT].indexOf(c.keyCode);d>=0&&Kt(c,d===0?-1:1)}function ku(c){c=St(c);var d=[i.LEFT,i.RIGHT].indexOf(c.keyCode);d>=0&&(d===0?ne.disabled||Kt(c,-1):se.disabled||Kt(c,1))}function ua(c){c.focus()}function Su(c){c=St(c);var d=e.activeElement;if(yi(d,"data-nav")){var g=[i.LEFT,i.RIGHT,i.ENTER,i.SPACE].indexOf(c.keyCode),m=Number(hn(d,"data-nav"));g>=0&&(g===0?m>0&&ua(Ke[m-1]):g===1?m<et-1&&ua(Ke[m+1]):(ar=m,pi(m,c)))}}function St(c){return c=c||r.event,fr(c)?c.changedTouches[0]:c}function Rr(c){return c.target||r.event.srcElement}function fr(c){return c.type.indexOf("touch")>=0}function la(c){c.preventDefault?c.preventDefault():c.returnValue=!1}function fa(){return Sd(kd(nt.y-cr.y,nt.x-cr.x),Fi)===t.axis}function ha(c){if(zt){if(ji)return;gt()}Pe&&Me&&on(),ur=!0,tt&&($s(tt),tt=null);var d=St(c);ke.emit(fr(c)?"touchStart":"dragStart",Ie(c)),!fr(c)&&["img","a"].indexOf(ta(Rr(c)))>=0&&la(c),nt.x=cr.x=d.clientX,nt.y=cr.y=d.clientY,S&&(Ki=parseFloat(A.style[sr].replace(qt,"")),rn(A,"0s"))}function da(c){if(ur){var d=St(c);nt.x=d.clientX,nt.y=d.clientY,S?tt||(tt=Jt(function(){pa(c)})):(_t==="?"&&(_t=fa()),_t&&(ci=!0)),(typeof c.cancelable!="boolean"||c.cancelable)&&ci&&c.preventDefault()}}function pa(c){if(!_t){ur=!1;return}if($s(tt),ur&&(tt=Jt(function(){pa(c)})),_t==="?"&&(_t=fa()),_t){!ci&&fr(c)&&(ci=!0);try{c.type&&ke.emit(fr(c)?"touchMove":"dragMove",Ie(c))}catch{}var d=Ki,g=Yn(nt,cr);if(!j||$||F)d+=g,d+="px";else{var m=p?g*q*100/((xe+H)*V):g*100/(xe+H);d+=m,d+="%"}A.style[sr]=qt+d+Ar}}function cn(c){if(ur){tt&&($s(tt),tt=null),S&&rn(A,""),ur=!1;var d=St(c);nt.x=d.clientX,nt.y=d.clientY;var g=Yn(nt,cr);if(Math.abs(g)){if(!fr(c)){var m=Rr(c);pe(m,{click:function O(C){la(C),Te(m,{click:O})}})}S?tt=Jt(function(){if(j&&!F){var O=-g*q/(xe+H);O=g>0?Math.floor(O):Math.ceil(O),T+=O}else{var C=-(Ki+g);if(C<=0)T=pt;else if(C>=ge[V-1])T=He;else for(var K=0;K<V&&C>=ge[K];)T=K,C>ge[K]&&g<0&&(T+=1),K++}as(c,g),ke.emit(fr(c)?"touchEnd":"dragEnd",Ie(c))}):_t&&Kt(c,g>0?-1:1)}}t.preventScrollOnTouch==="auto"&&(ci=!1),Fi&&(_t="?"),Pe&&!Me&&sn()}function cs(){var c=Ee||L;c.style.height=ge[T+q]-ge[T]+"px"}function _a(){var c=$?($+H)*R/xe:R/q;return Math.min(Math.ceil(c),R)}function us(){if(!(!dt||ai)&&et!==or){var c=or,d=et,g=Ve;for(or>et&&(c=et,d=or,g=Ge);c<d;)g(Ke[c]),c++;or=et}}function Ie(c){return{container:A,slideItems:G,navContainer:Ce,navItems:Ke,controlsContainer:ve,hasControls:Ni,prevButton:ne,nextButton:se,items:q,slideBy:Sr,cloneCount:$e,slideCount:R,slideCountNew:V,index:T,indexCached:Bt,displayIndex:$o(),navCurrentIndex:Je,navCurrentIndexCached:$r,pages:et,pagesCached:or,sheet:X,isOn:Vr,event:c||{}}}return{version:"2.9.4",getInfo:Ie,events:ke,goTo:pi,play:mu,pause:yu,isOn:Vr,updateSliderHeight:Zo,refresh:Lo,destroy:ou,rebuild:function(){return Bc(Cs(t,de))}}},Cd=Nc.tns=Bc,Dd=Rd;function Rd(t,e,r){var i=null,n=null,s=r&&r.leading,o=r&&r.trailing;s==null&&(s=!0),o==null&&(o=!s),s==!0&&(o=!1);var a=function(){i&&(clearTimeout(i),i=null)},u=function(){var h=n;a(),h&&h()},l=function(){var h=s&&!i,p=this,_=arguments;if(n=function(){return t.apply(p,_)},i||(i=setTimeout(function(){if(i=null,o)return n()},e)),h)return h=!1,n()};return l.cancel=a,l.flush=u,l}function Pd(t){let e=t,r=!1;function i(){if(window.screen.width>680&&e.destroy&&!r)return r=!0,e.destroy();r&&window.innerWidth<=680&&(r=!1,e=e.rebuild())}return[e,i]}const Id=Cd({container:"#carousel",items:1,controls:!1,gutter:0,nav:!1}),[,zc]=Pd(Id);zc();addEventListener("resize",Dd(()=>{zc()},200,{leading:!0}));var Js={},jd={get exports(){return Js},set exports(t){Js=t}};(function(t,e){function r(){var o=document.querySelector("[data-toggle-theme]");(function(a=localStorage.getItem("theme")){localStorage.getItem("theme")&&(document.documentElement.setAttribute("data-theme",a),o&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(u=>{u.classList.add(o.getAttribute("data-act-class"))}))})(),o&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(a=>{a.addEventListener("click",function(){var u=a.getAttribute("data-toggle-theme");if(u){var l=u.split(",");document.documentElement.getAttribute("data-theme")==l[0]?l.length==1?(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem("theme")):(document.documentElement.setAttribute("data-theme",l[1]),localStorage.setItem("theme",l[1])):(document.documentElement.setAttribute("data-theme",l[0]),localStorage.setItem("theme",l[0]))}[...document.querySelectorAll("[data-toggle-theme]")].forEach(h=>{h.classList.toggle(this.getAttribute("data-act-class"))})})})}function i(){(function(o=localStorage.getItem("theme")){if(o!=null&&o!="")if(localStorage.getItem("theme")&&localStorage.getItem("theme")!=""){document.documentElement.setAttribute("data-theme",o);var a=document.querySelector("[data-set-theme='"+o.toString()+"']");a&&([...document.querySelectorAll("[data-set-theme]")].forEach(u=>{u.classList.remove(u.getAttribute("data-act-class"))}),a.getAttribute("data-act-class")&&a.classList.add(a.getAttribute("data-act-class")))}else{var a=document.querySelector("[data-set-theme='']");a.getAttribute("data-act-class")&&a.classList.add(a.getAttribute("data-act-class"))}})(),[...document.querySelectorAll("[data-set-theme]")].forEach(o=>{o.addEventListener("click",function(){document.documentElement.setAttribute("data-theme",this.getAttribute("data-set-theme")),localStorage.setItem("theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("[data-set-theme]")].forEach(a=>{a.classList.remove(a.getAttribute("data-act-class"))}),o.getAttribute("data-act-class")&&o.classList.add(o.getAttribute("data-act-class"))})})}function n(){(function(o=localStorage.getItem("theme")){if(localStorage.getItem("theme")){document.documentElement.setAttribute("data-theme",o);var a=document.querySelector("select[data-choose-theme] [value='"+o.toString()+"']");a&&[...document.querySelectorAll("select[data-choose-theme] [value='"+o.toString()+"']")].forEach(u=>{u.selected=!0})}})(),document.querySelector("select[data-choose-theme]")&&[...document.querySelectorAll("select[data-choose-theme]")].forEach(o=>{o.addEventListener("change",function(){document.documentElement.setAttribute("data-theme",this.value),localStorage.setItem("theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("select[data-choose-theme] [value='"+localStorage.getItem("theme")+"']")].forEach(a=>{a.selected=!0})})})}function s(o=!0){o===!0?document.addEventListener("DOMContentLoaded",function(a){r(),n(),i()}):(r(),n(),i())}t.exports={themeChange:s}})(jd);Js.themeChange(!0);Xe('label.swap > button[data-button="change-theme"]')?.addEventListener("click",function(t){t.preventDefault(),this.parentElement instanceof HTMLElement&&fc(this.parentElement)});Xe('[data-button="back-to-top"]')?.addEventListener("click",()=>{window.scrollTo({top:0})});var Ds=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Rs(t,e,r,i){t.addEventListener?t.addEventListener(e,r,i):t.attachEvent&&t.attachEvent("on".concat(e),function(){r(window.event)})}function Hc(t,e){for(var r=e.slice(0,e.length-1),i=0;i<r.length;i++)r[i]=t[r[i].toLowerCase()];return r}function Kc(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");for(var e=t.split(","),r=e.lastIndexOf("");r>=0;)e[r-1]+=",",e.splice(r,1),r=e.lastIndexOf("");return e}function Fd(t,e){for(var r=t.length>=e.length?t:e,i=t.length>=e.length?e:t,n=!0,s=0;s<r.length;s++)i.indexOf(r[s])===-1&&(n=!1);return n}var $i={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":Ds?173:189,"=":Ds?61:187,";":Ds?59:186,"'":222,"[":219,"]":221,"\\":220},Et={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},Ws={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Re={16:!1,18:!1,17:!1,91:!1},be={};for(var dn=1;dn<20;dn++)$i["f".concat(dn)]=111+dn;var oe=[],Va=!1,Jc="all",Wc=[],Nn=function(e){return $i[e.toLowerCase()]||Et[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},Ld=function(e){return Object.keys($i).find(function(r){return $i[r]===e})},Nd=function(e){return Object.keys(Et).find(function(r){return Et[r]===e})};function Gc(t){Jc=t||"all"}function Ci(){return Jc||"all"}function Ud(){return oe.slice(0)}function Md(){return oe.map(function(t){return Ld(t)||Nd(t)||String.fromCharCode(t)})}function qd(t){var e=t.target||t.srcElement,r=e.tagName,i=!0;return(e.isContentEditable||(r==="INPUT"||r==="TEXTAREA"||r==="SELECT")&&!e.readOnly)&&(i=!1),i}function Bd(t){return typeof t=="string"&&(t=Nn(t)),oe.indexOf(t)!==-1}function zd(t,e){var r,i;t||(t=Ci());for(var n in be)if(Object.prototype.hasOwnProperty.call(be,n))for(r=be[n],i=0;i<r.length;)r[i].scope===t?r.splice(i,1):i++;Ci()===t&&Gc(e||"all")}function Hd(t){var e=t.keyCode||t.which||t.charCode,r=oe.indexOf(e);if(r>=0&&oe.splice(r,1),t.key&&t.key.toLowerCase()==="meta"&&oe.splice(0,oe.length),(e===93||e===224)&&(e=91),e in Re){Re[e]=!1;for(var i in Et)Et[i]===e&&(Dt[i]=!1)}}function Kd(t){if(typeof t>"u")Object.keys(be).forEach(function(o){return delete be[o]});else if(Array.isArray(t))t.forEach(function(o){o.key&&Ps(o)});else if(typeof t=="object")t.key&&Ps(t);else if(typeof t=="string"){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var n=r[0],s=r[1];typeof n=="function"&&(s=n,n=""),Ps({key:t,scope:n,method:s,splitKey:"+"})}}var Ps=function(e){var r=e.key,i=e.scope,n=e.method,s=e.splitKey,o=s===void 0?"+":s,a=Kc(r);a.forEach(function(u){var l=u.split(o),h=l.length,p=l[h-1],_=p==="*"?"*":Nn(p);if(be[_]){i||(i=Ci());var v=h>1?Hc(Et,l):[];be[_]=be[_].filter(function(y){var x=n?y.method===n:!0;return!(x&&y.scope===i&&Fd(y.mods,v))})}})};function Ya(t,e,r,i){if(e.element===i){var n;if(e.scope===r||e.scope==="all"){n=e.mods.length>0;for(var s in Re)Object.prototype.hasOwnProperty.call(Re,s)&&(!Re[s]&&e.mods.indexOf(+s)>-1||Re[s]&&e.mods.indexOf(+s)===-1)&&(n=!1);(e.mods.length===0&&!Re[16]&&!Re[18]&&!Re[17]&&!Re[91]||n||e.shortcut==="*")&&e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}}function Xa(t,e){var r=be["*"],i=t.keyCode||t.which||t.charCode;if(Dt.filter.call(this,t)){if((i===93||i===224)&&(i=91),oe.indexOf(i)===-1&&i!==229&&oe.push(i),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(y){var x=Ws[y];t[y]&&oe.indexOf(x)===-1?oe.push(x):!t[y]&&oe.indexOf(x)>-1?oe.splice(oe.indexOf(x),1):y==="metaKey"&&t[y]&&oe.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(oe=oe.slice(oe.indexOf(x))))}),i in Re){Re[i]=!0;for(var n in Et)Et[n]===i&&(Dt[n]=!0);if(!r)return}for(var s in Re)Object.prototype.hasOwnProperty.call(Re,s)&&(Re[s]=t[Ws[s]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(oe.indexOf(17)===-1&&oe.push(17),oe.indexOf(18)===-1&&oe.push(18),Re[17]=!0,Re[18]=!0);var o=Ci();if(r)for(var a=0;a<r.length;a++)r[a].scope===o&&(t.type==="keydown"&&r[a].keydown||t.type==="keyup"&&r[a].keyup)&&Ya(t,r[a],o,e);if(i in be){for(var u=0;u<be[i].length;u++)if((t.type==="keydown"&&be[i][u].keydown||t.type==="keyup"&&be[i][u].keyup)&&be[i][u].key){for(var l=be[i][u],h=l.splitKey,p=l.key.split(h),_=[],v=0;v<p.length;v++)_.push(Nn(p[v]));_.sort().join("")===oe.sort().join("")&&Ya(t,l,o,e)}}}}function Jd(t){return Wc.indexOf(t)>-1}function Dt(t,e,r){oe=[];var i=Kc(t),n=[],s="all",o=document,a=0,u=!1,l=!0,h="+",p=!1;for(r===void 0&&typeof e=="function"&&(r=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(s=e.scope),e.element&&(o=e.element),e.keyup&&(u=e.keyup),e.keydown!==void 0&&(l=e.keydown),e.capture!==void 0&&(p=e.capture),typeof e.splitKey=="string"&&(h=e.splitKey)),typeof e=="string"&&(s=e);a<i.length;a++)t=i[a].split(h),n=[],t.length>1&&(n=Hc(Et,t)),t=t[t.length-1],t=t==="*"?"*":Nn(t),t in be||(be[t]=[]),be[t].push({keyup:u,keydown:l,scope:s,mods:n,shortcut:i[a],method:r,key:i[a],splitKey:h,element:o});typeof o<"u"&&!Jd(o)&&window&&(Wc.push(o),Rs(o,"keydown",function(_){Xa(_,o)},p),Va||(Va=!0,Rs(window,"focus",function(){oe=[]},p)),Rs(o,"keyup",function(_){Xa(_,o),Hd(_)},p))}function Wd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(be).forEach(function(r){var i=be[r].filter(function(n){return n.scope===e&&n.shortcut===t});i.forEach(function(n){n&&n.method&&n.method()})})}var Is={getPressedKeyString:Md,setScope:Gc,getScope:Ci,deleteScope:zd,getPressedKeyCodes:Ud,isPressed:Bd,filter:qd,trigger:Wd,unbind:Kd,keyMap:$i,modifier:Et,modifierMap:Ws};for(var js in Is)Object.prototype.hasOwnProperty.call(Is,js)&&(Dt[js]=Is[js]);if(typeof window<"u"){var Gd=window.hotkeys;Dt.noConflict=function(t){return t&&window.hotkeys===Dt&&(window.hotkeys=Gd),Dt},window.hotkeys=Dt}const Vd=[{label:"Mixpanel",id:"mixpanel",infoURL:"https://developer.mixpanel.com/docs",description:"Trackeamos eventos como clicks en los CTA y visitar a la web",type:"switch",isAvailable:uc,isActive:localStorage.getItem("mixpanelStatus")==="active"},{label:"Supase",id:"supabase",infoURL:"https://supabase.com/docs",isAvailable:Lc,description:"Saas para guardar la data en postgres"},{label:"Atencion por Whatsapp",description:"Forzar que este disponible la atencion por whatsapp al hacer click en inscribirse",id:"channelWhatsapp",isAvailable:!0,defaultOf:!0}];var Vc=(t=>(t.MIXPANEL="mixpanel",t.SUPABASE="supabse",t.WHATSAPP="channelWhatsapp",t))(Vc||{});function Yd(){const t=Xe("input#mock-phone");if(t instanceof HTMLInputElement)return Number(t.value);throw new Error("There is not phone")}Ct.subscribe(co());Vd.forEach(({id:t})=>{Xe(`input#${t}`)?.addEventListener("change",({target:e})=>{if(!(e instanceof HTMLInputElement))return;const{checked:r}=e;return t==="channelWhatsapp"?r?Xt.forceActivateAttention(Yd()):Xt.clear():t===Vc.MIXPANEL&&!r?Ct.deactivate():Ct.activate()})});const Yc=Xe('[data-modal="developer-settings"]');function Xc(){Yc?.classList.toggle("modal-open")}Yc?.querySelector('[data-button="close-dev-options"]')?.addEventListener("click",t=>{t.preventDefault(),Xc()});Dt("ctrl+k",t=>{t.preventDefault(),Xc()});
